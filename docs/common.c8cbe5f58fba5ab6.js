"use strict";var Xe=Object.defineProperty,He=Object.defineProperties,$e=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,Re=(ae,Q,t)=>Q in ae?Xe(ae,Q,{enumerable:!0,configurable:!0,writable:!0,value:t}):ae[Q]=t,de=(ae,Q)=>{for(var t in Q||(Q={}))Je.call(Q,t)&&Re(ae,t,Q[t]);if(Ue)for(var t of Ue(Q))Ye.call(Q,t)&&Re(ae,t,Q[t]);return ae},me=(ae,Q)=>He(ae,$e(Q));(self.webpackChunkbeachSports=self.webpackChunkbeachSports||[]).push([[8592],{25893:(ae,Q,t)=>{t.d(Q,{I:()=>H,d:()=>b});var _=t(15861),h=t(76210),U=t(91376),j=t(83623);const N={},X={},G={s:16,m:24,l:32};function V(){return(V=(0,_.Z)(function*({icon:L,scale:C}){const W=G[C],B=w(L),E="F"===B.charAt(B.length-1),a=`${E?B.substring(0,B.length-1):B}${W}${E?"F":""}`;if(N[a])return N[a];X[a]||(X[a]=fetch((0,h.K3)(`./assets/icon/${a}.json`)).then(c=>c.json()).catch(()=>(console.error(`"${a}" is not a valid calcite-ui-icon name`),"")));const m=yield X[a];return N[a]=m,m})).apply(this,arguments)}function w(L){const C=!isNaN(Number(L.charAt(0))),W=L.split("-");return 1===W.length?C?`i${L}`:L:W.map((B,E)=>0===E?C?`i${B.toUpperCase()}`:B:B.charAt(0).toUpperCase()+B.slice(1)).join("")}const H=(0,h.GH)(class extends h.mv{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.visible=!1}connectedCallback(){this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){var L;null===(L=this.intersectionObserver)||void 0===L||L.disconnect(),this.intersectionObserver=null}componentWillLoad(){var L=this;return(0,_.Z)(function*(){L.loadIconPathData()})()}render(){const{el:L,flipRtl:C,pathData:W,scale:B,textLabel:E}=this,Z=(0,U.a)(L),a=G[B],m=!!E,c=[].concat(W||"");return(0,h.h)(h.AA,{"aria-hidden":(0,U.t)(!m),"aria-label":m?E:null,role:m?"img":null},(0,h.h)("svg",{class:{"flip-rtl":"rtl"===Z&&C,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${a} ${a}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},c.map(v=>(0,h.h)("path","string"==typeof v?{d:v}:{d:v.d,opacity:"opacity"in v?v.opacity:1}))))}loadIconPathData(){var L=this;return(0,_.Z)(function*(){const{icon:C,scale:W,visible:B}=L;!h.Z5.isBrowser||!C||!B||(L.pathData=yield function M(L){return V.apply(this,arguments)}({icon:C,scale:W}))})()}waitUntilVisible(L){this.intersectionObserver=(0,j.c)("intersection",C=>{C.forEach(W=>{W.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,L())})},{rootMargin:"50px"}),this.intersectionObserver?this.intersectionObserver.observe(this.el):L()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-inline-flexbox;display:inline-flex;color:var(--calcite-ui-icon-color)}:host([scale=s]){height:1rem;width:1rem;min-width:1rem;min-height:1rem}:host([scale=m]){height:1.5rem;width:1.5rem;min-width:1.5rem;min-height:1.5rem}:host([scale=l]){height:2rem;width:2rem;min-width:2rem;min-height:2rem}.flip-rtl{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.svg{display:block}"}},[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]}]);function b(){"undefined"!=typeof customElements&&["calcite-icon"].forEach(C=>{"calcite-icon"===C&&(customElements.get(C)||customElements.define(C,H))})}b()},83623:(ae,Q,t)=>{t.d(Q,{c:()=>h});var _=t(76210);function h(j,z,N){const X=function U(j){return"intersection"===j?window.IntersectionObserver:"mutation"===j?window.MutationObserver:window.ResizeObserver}(j);return _.Z5.isBrowser?new X(z,N):void 0}},61642:(ae,Q,t)=>{t.d(Q,{Z:()=>C});var _=t(17626),h=t(8425),U=t(14517),j=t(79608),z=t(86810),N=t(62208),X=t(77712),w=(t(85931),t(8314),t(90912),t(76898)),x=t(40405),H=t(49672),b=t(82706);let L=class extends((0,z.eC)((0,j.J)(U.Z))){constructor(W){super(W),this.position=null,this.elevationInfo=null,this.feature=null}equals(W){return(0,N._W)(this.position,W.position)&&(0,N._W)(this.elevationInfo,W.elevationInfo)&&(0,h.kk)(this.feature,W.feature)}};(0,_._)([(0,X.Cb)({type:H.Z}),(0,x.B)()],L.prototype,"position",void 0),(0,_._)([(0,X.Cb)({type:b.ZP}),(0,x.B)()],L.prototype,"elevationInfo",void 0),(0,_._)([(0,X.Cb)(h.rX)],L.prototype,"feature",void 0),L=(0,_._)([(0,w.j)("esri.analysis.LineOfSightAnalysisObserver")],L);const C=L},57574:(ae,Q,t)=>{t.d(Q,{Z:()=>L});var _=t(17626),h=t(8425),U=t(79608),j=t(86810),z=t(62208),N=t(77712),V=(t(85931),t(8314),t(90912),t(76898)),w=t(40405),x=t(49672),H=t(82706);let b=class extends((0,j.eC)(U.j)){constructor(C){super(C),this.position=null,this.elevationInfo=null,this.feature=null}equals(C){return(0,z._W)(this.position,C.position)&&(0,z._W)(this.elevationInfo,C.elevationInfo)&&(0,h.kk)(this.feature,C.feature)}};(0,_._)([(0,N.Cb)({type:x.Z}),(0,w.B)()],b.prototype,"position",void 0),(0,_._)([(0,N.Cb)({type:H.ZP}),(0,w.B)()],b.prototype,"elevationInfo",void 0),(0,_._)([(0,N.Cb)(h.rX)],b.prototype,"feature",void 0),b=(0,_._)([(0,V.j)("esri.analysis.LineOfSightAnalysisTarget")],b);const L=b},8425:(ae,Q,t)=>{t.d(Q,{kk:()=>h,pD:()=>U,rX:()=>j});var _=t(62208);function h(X,G){return U(X)===U(G)}function U(X){if((0,_.Wi)(X))return null;let M=null;return M=null!=X.objectId?X.objectId:null!=X.layer&&"objectIdField"in X.layer&&null!=X.layer.objectIdField&&null!=X.attributes?X.attributes[X.layer.objectIdField]:X.uid,null==M?null:`o-${null!=X.layer?X.layer.id:""}-${M}`}const j={json:{write:{writer:function z(X,G){var M;(0,_.Wi)(X)||null==(null==(M=X.layer)?void 0:M.objectIdField)||null==X.attributes||(G.feature={layerId:X.layer.id,objectId:X.attributes[X.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function N(X){if(null!=X.layerId&&null!=X.objectId)return{uid:null,layer:{id:X.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:X.objectId}}}}}}}},7006:(ae,Q,t)=>{t.d(Q,{A:()=>S,B:()=>R,C:()=>O,D:()=>F,E:()=>q,F:()=>re,G:()=>ie,H:()=>J,I:()=>k,J:()=>se,K:()=>ne,a:()=>z,b:()=>N,c:()=>j,d:()=>X,e:()=>U,f:()=>G,g:()=>te,h:()=>M,i:()=>V,j:()=>H,k:()=>C,l:()=>B,m:()=>E,n:()=>Z,o:()=>b,p:()=>a,q:()=>c,r:()=>L,s:()=>W,t:()=>w,u:()=>m,v:()=>v,w:()=>x,x:()=>A,y:()=>$,z:()=>D});var _=t(4918),h=t(15994);function U(P){return _.G.extendedSpatialReferenceInfo(P)}function j(P,T,Y){return _.G.clip(h.N,P,T,Y)}function z(P,T,Y){return _.G.cut(h.N,P,T,Y)}function N(P,T,Y){return _.G.contains(h.N,P,T,Y)}function X(P,T,Y){return _.G.crosses(h.N,P,T,Y)}function G(P,T,Y,ee){return _.G.distance(h.N,P,T,Y,ee)}function M(P,T,Y){return _.G.equals(h.N,P,T,Y)}function V(P,T,Y){return _.G.intersects(h.N,P,T,Y)}function w(P,T,Y){return _.G.touches(h.N,P,T,Y)}function x(P,T,Y){return _.G.within(h.N,P,T,Y)}function H(P,T,Y){return _.G.disjoint(h.N,P,T,Y)}function b(P,T,Y){return _.G.overlaps(h.N,P,T,Y)}function L(P,T,Y,ee){return _.G.relate(h.N,P,T,Y,ee)}function C(P,T){return _.G.isSimple(h.N,P,T)}function W(P,T){return _.G.simplify(h.N,P,T)}function B(P,T,Y=!1){return _.G.convexHull(h.N,P,T,Y)}function E(P,T,Y){return _.G.difference(h.N,P,T,Y)}function Z(P,T,Y){return _.G.symmetricDifference(h.N,P,T,Y)}function a(P,T,Y){return _.G.intersect(h.N,P,T,Y)}function m(P,T,Y=null){return _.G.union(h.N,P,T,Y)}function c(P,T,Y,ee,ue,oe,ce){return _.G.offset(h.N,P,T,Y,ee,ue,oe,ce)}function v(P,T,Y,ee,ue=!1){return _.G.buffer(h.N,P,T,Y,ee,ue)}function A(P,T,Y,ee,ue,oe,ce){return _.G.geodesicBuffer(h.N,P,T,Y,ee,ue,oe,ce)}function $(P,T,Y,ee=!0){return _.G.nearestCoordinate(h.N,P,T,Y,ee)}function D(P,T,Y){return _.G.nearestVertex(h.N,P,T,Y)}function S(P,T,Y,ee,ue){return _.G.nearestVertices(h.N,P,T,Y,ee,ue)}function R(P,T,Y,ee){if(null==T||null==ee)throw new Error("Illegal Argument Exception");const ue=_.G.rotate(T,Y,ee);return ue.spatialReference=P,ue}function O(P,T,Y){if(null==T||null==Y)throw new Error("Illegal Argument Exception");const ee=_.G.flipHorizontal(T,Y);return ee.spatialReference=P,ee}function F(P,T,Y){if(null==T||null==Y)throw new Error("Illegal Argument Exception");const ee=_.G.flipVertical(T,Y);return ee.spatialReference=P,ee}function q(P,T,Y,ee,ue){return _.G.generalize(h.N,P,T,Y,ee,ue)}function re(P,T,Y,ee){return _.G.densify(h.N,P,T,Y,ee)}function ie(P,T,Y,ee,ue=0){return _.G.geodesicDensify(h.N,P,T,Y,ee,ue)}function J(P,T,Y){return _.G.planarArea(h.N,P,T,Y)}function k(P,T,Y){return _.G.planarLength(h.N,P,T,Y)}function se(P,T,Y,ee){return _.G.geodesicArea(h.N,P,T,Y,ee)}function ne(P,T,Y,ee){return _.G.geodesicLength(h.N,P,T,Y,ee)}const te=Object.freeze(Object.defineProperty({__proto__:null,extendedSpatialReferenceInfo:U,clip:j,cut:z,contains:N,crosses:X,distance:G,equals:M,intersects:V,touches:w,within:x,disjoint:H,overlaps:b,relate:L,isSimple:C,simplify:W,convexHull:B,difference:E,symmetricDifference:Z,intersect:a,union:m,offset:c,buffer:v,geodesicBuffer:A,nearestCoordinate:$,nearestVertex:D,nearestVertices:S,rotate:R,flipHorizontal:O,flipVertical:F,generalize:q,densify:re,geodesicDensify:ie,planarArea:J,planarLength:k,geodesicArea:se,geodesicLength:ne},Symbol.toStringTag,{value:"Module"}))},99746:(ae,Q,t)=>{t.d(Q,{Z:()=>m});var Z,_=t(17626),h=t(86810),U=t(62208),j=t(77712),G=(t(85931),t(8314),t(90912),t(76898)),M=t(28347),V=t(43703),w=t(84161),x=t(28093),H=t(49672),b=t(55915),L=t(12080),C=t(89586),W=t(60479),B=t(79800),E=t(9554);let a=Z=class extends h.wq{constructor(c){super(c),this.origin=(0,x.c)(),this.translation=(0,x.c)(),this.rotation=(0,C.Ue)(),this.scale=(0,x.f)(1,1,1),this.geographic=!0}get localMatrix(){const c=(0,V.c)();return(0,M.u)(c,this.scale),(0,M.e)(c,c,(0,C.WH)(this.rotation),(0,C.ZZ)(this.rotation)),(0,M.j)(c,c,this.translation),c}get localMatrixInverse(){return(0,M.a)((0,V.c)(),this.localMatrix)}applyLocal(c,v){return(0,w.m)(v,c,this.localMatrix)}applyLocalInverse(c,v){return(0,w.m)(v,c,this.localMatrixInverse)}project(c,v){const A=new Float64Array(c.length),$=W.fP.fromTypedArray(A),D=W.fP.fromTypedArray(c);if(this.geographic){const O=(0,L.rS)(v),F=(0,V.c)();return(0,b.Bm)(v,this.origin,F,O),(0,M.m)(F,F,this.localMatrix),(0,B.t)($,D,F),(0,b.CM)(A,O,0,A,v,0,A.length/3),A}const{localMatrix:S,origin:R}=this;(0,M.v)(S,V.I)?(0,E.c)($,D):(0,B.t)($,D,S);for(let O=0;O<A.length;O+=3)A[O+0]+=R[0],A[O+1]+=R[1],A[O+2]+=R[2];return A}getOriginPoint(c){const[v,A,$]=this.origin;return new H.Z({x:v,y:A,z:$,spatialReference:c})}equals(c){return(0,U.pC)(c)&&this.geographic===c.geographic&&(0,w.k)(this.origin,c.origin)&&(0,M.w)(this.localMatrix,c.localMatrix)}clone(){const c={origin:(0,x.a)(this.origin),translation:(0,x.a)(this.translation),rotation:(0,C.Ue)(this.rotation),scale:(0,x.a)(this.scale),geographic:this.geographic};return new Z(c)}};(0,_._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"origin",void 0),(0,_._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"translation",void 0),(0,_._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"rotation",void 0),(0,_._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"scale",void 0),(0,_._)([(0,j.Cb)({type:Boolean,nonNullable:!0,json:{write:!0}})],a.prototype,"geographic",void 0),(0,_._)([(0,j.Cb)()],a.prototype,"localMatrix",null),(0,_._)([(0,j.Cb)()],a.prototype,"localMatrixInverse",null),a=Z=(0,_._)([(0,G.j)("esri.geometry.support.MeshTransform")],a);const m=a},89586:(ae,Q,t)=>{t.d(Q,{EU:()=>b,Ue:()=>z,WH:()=>L,ZZ:()=>H,qC:()=>x,uT:()=>V});var _=t(21286),h=t(48977),U=t(78451),j=t(84161);function z(a=W){return[a[0],a[1],a[2],a[3]]}function V(a,m,c=z()){return(0,j.c)(c,a),c[3]=m,c}function x(a,m,c=z()){return(0,h.s)(B,a,L(a)),(0,h.s)(E,m,L(m)),(0,h.m)(B,E,B),function C(a,m){return a[3]=m,a}(c,(0,_.BV)((0,h.g)(c,B)))}function H(a){return a}function b(a){return a[3]}function L(a){return(0,_.Vl)(a[3])}const W=[0,0,1,0],B=(0,U.a)(),E=(0,U.a)();z()},92545:(ae,Q,t)=>{function _(h,U){var j;return h.isGeographic||h.isWebMercator&&(null==(j=null==U?void 0:U.geographic)||j)}t.d(Q,{h:()=>_})},60853:(ae,Q,t)=>{t.d(Q,{FF:()=>W,I5:()=>L,Yq:()=>B,iv:()=>b,w1:()=>C});var _=t(62208),h=t(16730),U=t(550),j=t(28347),z=t(43703),N=t(30217),X=t(55915),G=t(12080),M=t(99746),V=t(60479),w=t(79800),x=t(92545),H=t(65231);function b(J,k,se){return(0,x.h)(k.spatialReference,se)?function Z(J,k,se){const ne=k.spatialReference,te=$(k,se,F),P=new Float64Array(J.position.length),T=function a(J,k,se,ne){(0,w.t)(V.fP.fromTypedArray(ne),V.fP.fromTypedArray(J),k);const te=new Float64Array(J.length);return(0,H.To)(ne,te,se)}(J.position,te,ne,P),Y=(0,N.a)(re,te);return{position:T,normal:m(T,P,J.normal,Y,ne),tangent:c(T,P,J.tangent,Y,ne)}}(J,k,se):function E(J,k,se){const ne=new Float64Array(J.position.length),te=J.position,P=k.x,T=k.y,Y=k.z||0,{horizontal:ee,vertical:ue}=O(se?se.unit:null,k.spatialReference);for(let oe=0;oe<te.length;oe+=3)ne[oe+0]=te[oe+0]*ee+P,ne[oe+1]=te[oe+1]*ee+T,ne[oe+2]=te[oe+2]*ue+Y;return{position:ne,normal:J.normal,tangent:J.tangent}}(J,k,se)}function L(J,k,se){const{position:ne,normal:te,tangent:P}=J;if((0,_.Wi)(k))return{position:ne,normal:te,tangent:P};const T=k.localMatrix;return b({position:(0,H.zZ)(ne,new Float64Array(ne.length),T),normal:(0,_.pC)(te)?(0,H.w9)(te,new Float32Array(te.length),T):null,tangent:(0,_.pC)(P)?(0,H.VS)(P,new Float32Array(P.length),T):null},k.getOriginPoint(se),{geographic:k.geographic})}function C(J,k,se){var ne;if(null==se?void 0:se.useTransform){const{position:te,normal:P,tangent:T}=J;return{vertexAttributes:{position:te,normal:P,tangent:T},transform:new M.Z({origin:[k.x,k.y,null!=(ne=k.z)?ne:0],geographic:(0,x.h)(k.spatialReference,se)})}}return{vertexAttributes:b(J,k,se),transform:null}}function W(J,k,se){return(0,x.h)(k.spatialReference,se)?A(J,k,se):v(J,k,se)}function B(J,k,se,ne){if((0,_.Wi)(k))return W(J,se,ne);const te=L(J,k,se.spatialReference);return se.equals(k.getOriginPoint(se.spatialReference))?v(te,se,ne):(0,x.h)(se.spatialReference,ne)?A(te,se,ne):v(te,se,ne)}function m(J,k,se,ne,te){if((0,_.Wi)(se))return null;const P=new Float32Array(se.length);return(0,w.a)(V.ct.fromTypedArray(P),V.ct.fromTypedArray(se),ne),(0,H.Yk)(P,J,k,te,P),P}function c(J,k,se,ne,te){if((0,_.Wi)(se))return null;const P=new Float32Array(se.length);(0,w.a)(V.ct.fromTypedArray(P,4*Float32Array.BYTES_PER_ELEMENT),V.ct.fromTypedArray(se,4*Float32Array.BYTES_PER_ELEMENT),ne);for(let T=3;T<P.length;T+=4)P[T]=se[T];return(0,H.M2)(P,J,k,te,P),P}function v(J,k,se){const ne=new Float64Array(J.position.length),te=J.position,P=k.x,T=k.y,Y=k.z||0,{horizontal:ee,vertical:ue}=O(se?se.unit:null,k.spatialReference);for(let oe=0;oe<te.length;oe+=3)ne[oe+0]=(te[oe+0]-P)/ee,ne[oe+1]=(te[oe+1]-T)/ee,ne[oe+2]=(te[oe+2]-Y)/ue;return{position:ne,normal:J.normal,tangent:J.tangent}}function A(J,k,se){const ne=k.spatialReference;$(k,se,F);const te=(0,j.a)(q,F),P=new Float64Array(J.position.length),T=function D(J,k,se,ne){const te=(0,H.XO)(J,k,ne),P=V.fP.fromTypedArray(te),T=new Float64Array(te.length),Y=V.fP.fromTypedArray(T);return(0,w.t)(Y,P,se),T}(J.position,ne,te,P),Y=(0,N.a)(re,te);return{position:T,normal:S(J.normal,J.position,P,ne,Y),tangent:R(J.tangent,J.position,P,ne,Y)}}function $(J,k,se){(0,X.Bm)(J.spatialReference,[J.x,J.y,J.z||0],se,(0,G.rS)(J.spatialReference));const{horizontal:ne,vertical:te}=O(k?k.unit:null,J.spatialReference);return(0,j.h)(se,se,[ne,ne,te]),se}function S(J,k,se,ne,te){if((0,_.Wi)(J))return null;const P=(0,H.Iz)(J,k,se,ne,new Float32Array(J.length)),T=V.ct.fromTypedArray(P);return(0,w.a)(T,T,te),P}function R(J,k,se,ne,te){if((0,_.Wi)(J))return null;const P=(0,H.wi)(J,k,se,ne,new Float32Array(J.length)),T=V.ct.fromTypedArray(P,4*Float32Array.BYTES_PER_ELEMENT);return(0,w.a)(T,T,te),P}function O(J,k){if((0,_.Wi)(J))return ie;const se=k.isGeographic?1:(0,h.c9)(k),ne=k.isGeographic?1:(0,h._R)(k),te=(0,h.En)(1,J,"meters");return{horizontal:te*se,vertical:te*ne}}const F=(0,z.c)(),q=(0,z.c)(),re=(0,U.c)(),ie={horizontal:1,vertical:1}},65629:(ae,Q,t)=>{t.d(Q,{SR:()=>M,Ui:()=>G});var _=t(62208),h=t(65401),U=t(32442),j=t(25748),z=t(91179),N=t(74618),X=t(37053);function G(a){return V(a,!0)}function M(a){return V(a,!1)}function V(a,m){if((0,_.Wi)(a))return null;const c=a.spatialReference,v=(0,X.C5)(c),A="toJSON"in a?a.toJSON():a;if(!v)return A;const $=(0,X.sS)(c)?102100:4326,D=N.UZ[$].maxX,S=N.UZ[$].minX;if((0,z.wp)(A))return x(A,D,S);if((0,z.aW)(A))return A.points=A.points.map(R=>x(R,D,S)),A;if((0,z.YX)(A))return function w(a,m){if(!m)return a;const c=function H(a,m){const c=[],{ymin:v,ymax:A,xmin:$,xmax:D}=a,S=a.xmax-a.xmin,[R,O]=m.valid,{x:F,frameId:q}=b(a.xmin,m),{x:re,frameId:ie}=b(a.xmax,m),J=F===re&&S>0;if(S>2*O){const k={xmin:$<D?F:re,ymin:v,xmax:O,ymax:A},se={xmin:R,ymin:v,xmax:$<D?re:F,ymax:A},ne={xmin:0,ymin:v,xmax:O,ymax:A},te={xmin:R,ymin:v,xmax:0,ymax:A},P=[],T=[];L(k,ne)&&P.push(q),L(k,te)&&T.push(q),L(se,ne)&&P.push(ie),L(se,te)&&T.push(ie);for(let Y=q+1;Y<ie;Y++)P.push(Y),T.push(Y);c.push(new B(k,[q]),new B(se,[ie]),new B(ne,P),new B(te,T))}else F>re||J?c.push(new B({xmin:F,ymin:v,xmax:O,ymax:A},[q]),new B({xmin:R,ymin:v,xmax:re,ymax:A},[ie])):c.push(new B({xmin:F,ymin:v,xmax:re,ymax:A},[q]));return c}(a,m).map(v=>v.extent);return c.length<2?c[0]||a:c.length>2?(a.xmin=m.valid[0],a.xmax=m.valid[1],a):{rings:c.map(v=>[[v.xmin,v.ymin],[v.xmin,v.ymax],[v.xmax,v.ymax],[v.xmax,v.ymin],[v.xmin,v.ymin]])}}(A,v);if((0,z.oU)(A)||(0,z.l9)(A)){const R=(0,U.$P)(E,A),O={xmin:R[0],ymin:R[1],xmax:R[2],ymax:R[3]},F=(0,N.XZ)(O.xmin,S)*(2*D),q=0===F?A:(0,N.Sy)(A,F);return O.xmin+=F,O.xmax+=F,O.xmax>D?W(q,D,m):O.xmin<S?W(q,S,m):q}return A}function x(a,m,c){if(Array.isArray(a)){const v=a[0];if(v>m){const A=(0,N.XZ)(v,m);a[0]=v+A*(-2*m)}else if(v<c){const A=(0,N.XZ)(v,c);a[0]=v+A*(-2*c)}}else{const v=a.x;if(v>m){const A=(0,N.XZ)(v,m);a.x+=A*(-2*m)}else if(v<c){const A=(0,N.XZ)(v,c);a.x+=A*(-2*c)}}return a}function b(a,m){const[c,v]=m.valid,A=2*v;let $,D=0;return a>v?($=Math.ceil(Math.abs(a-v)/A),a-=$*A,D=$):a<c&&($=Math.ceil(Math.abs(a-c)/A),a+=$*A,D=-$),{x:a,frameId:D}}function L(a,m){const{xmin:c,ymin:v,xmax:A,ymax:$}=m;return C(a,c,v)&&C(a,c,$)&&C(a,A,$)&&C(a,A,v)}function C(a,m,c){return m>=a.xmin&&m<=a.xmax&&c>=a.ymin&&c<=a.ymax}function W(a,m,c=!0){const v=!(0,z.l9)(a);if(v&&(0,j.Zy)(a),c)return(new Z).cut(a,m);const A=v?a.rings:a.paths,$=v?4:2,D=A.length,S=-2*m;for(let R=0;R<D;R++){const O=A[R];if(O&&O.length>=$){const F=[];for(const q of O)F.push([q[0]+S,q[1]]);A.push(F)}}return v?a.rings=A:a.paths=A,a}class B{constructor(m,c){this.extent=m,this.frameIds=c}}const E=(0,h.Ue)();class Z{constructor(){this.linesIn=[],this.linesOut=[]}cut(m,c){let v;if(this.xCut=c,m.rings)this.closed=!0,v=m.rings,this.minPts=4;else{if(!m.paths)return null;this.closed=!1,v=m.paths,this.minPts=2}for(const $ of v){if(!$||$.length<this.minPts)continue;let D=!0;for(const S of $)D?(this.moveTo(S),D=!1):this.lineTo(S);this.closed&&this.close()}this._pushLineIn(),this._pushLineOut(),v=[];for(const $ of this.linesIn)$&&$.length>=this.minPts&&v.push($);const A=-2*this.xCut;for(const $ of this.linesOut)if($&&$.length>=this.minPts){for(const D of $)D[0]+=A;v.push($)}return this.closed?m.rings=v:m.paths=v,m}moveTo(m){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(m[0]),this._moveTo(m[0],m[1],this._prevSide),this._prevPt=m,this._firstPt=m}lineTo(m){const c=this._side(m[0]);if(c*this._prevSide==-1){const v=this._intersect(this._prevPt,m);this._lineTo(this.xCut,v,0),this._prevSide=0,this._lineTo(m[0],m[1],c)}else this._lineTo(m[0],m[1],c);this._prevSide=c,this._prevPt=m}close(){const m=this._firstPt,c=this._prevPt;m[0]===c[0]&&m[1]===c[1]||this.lineTo(m),this._checkClosingPt(this.lineIn),this._checkClosingPt(this.lineOut)}_moveTo(m,c,v){this.closed?(this.lineIn.push([v<=0?m:this.xCut,c]),this.lineOut.push([v>=0?m:this.xCut,c])):(v<=0&&this.lineIn.push([m,c]),v>=0&&this.lineOut.push([m,c]))}_lineTo(m,c,v){this.closed?(this._addPolyVertex(this.lineIn,v<=0?m:this.xCut,c),this._addPolyVertex(this.lineOut,v>=0?m:this.xCut,c)):v<0?(0===this._prevSide&&this._pushLineOut(),this.lineIn.push([m,c])):v>0?(0===this._prevSide&&this._pushLineIn(),this.lineOut.push([m,c])):this._prevSide<0?(this.lineIn.push([m,c]),this.lineOut.push([m,c])):this._prevSide>0&&(this.lineOut.push([m,c]),this.lineIn.push([m,c]))}_addPolyVertex(m,c,v){const A=m.length;A>1&&m[A-1][0]===c&&m[A-2][0]===c?m[A-1][1]=v:m.push([c,v])}_checkClosingPt(m){const c=m.length;c>3&&m[0][0]===this.xCut&&m[c-2][0]===this.xCut&&m[1][0]===this.xCut&&(m[0][1]=m[c-2][1],m.pop())}_side(m){return m<this.xCut?-1:m>this.xCut?1:0}_intersect(m,c){return m[1]+(this.xCut-m[0])/(c[0]-m[0])*(c[1]-m[1])}_pushLineIn(){this.lineIn&&this.lineIn.length>=this.minPts&&this.linesIn.push(this.lineIn),this.lineIn=[]}_pushLineOut(){this.lineOut&&this.lineOut.length>=this.minPts&&this.linesOut.push(this.lineOut),this.lineOut=[]}}},28678:(ae,Q,t)=>{t.r(Q),t.d(Q,{default:()=>S});var _=t(17626),U=(t(29132),t(84792)),j=t(26584),z=t(99959),N=t(77275),X=t(21726),G=t(77712),x=(t(85931),t(8314),t(90912),t(68653)),H=t(76898),b=t(99433),L=t(44917),C=t(552),W=t(49286),B=t(6647),E=t(30346),Z=t(99555),a=t(72258),m=t(2584),c=t(91309),v=t(2004),A=t(65234),$=t(49672);let D=class extends((0,C.h)((0,E.Q)((0,Z.M)((0,W.q)((0,B.I)((0,z.R)(L.Z))))))){constructor(...R){super(...R),this.copyright="",this.fullExtent=new v.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,A.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=A.Z.WebMercator,this.subDomains=null,this.tileInfo=new m.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new $.Z({x:-20037508.342787,y:20037508.342787,spatialReference:A.Z.WebMercator}),spatialReference:A.Z.WebMercator,lods:[new a.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new a.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new a.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new a.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new a.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new a.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new a.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new a.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new a.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new a.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new a.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new a.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new a.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new a.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new a.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new a.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new a.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new a.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new a.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new a.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new a.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new a.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new a.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new a.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(R,O){return"string"==typeof R?de({urlTemplate:R},O):R}load(R){const O=this.loadFromPortal({supportedTypes:["WMTS"]},R).then(()=>{let F="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const q=new X.R9(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&q.authority.includes("{subDomain}")&&(F="is missing 'subDomains' property")}else F="spatialReference must match tileInfo.spatialReference";else F="is missing the required 'urlTemplate' property value";if(F)throw new j.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${F}`)});return this.addResolvingPromise(O),Promise.resolve(this)}get levelValues(){const R=[];if(!this.tileInfo)return null;for(const O of this.tileInfo.lods)R[O.level]=O.levelValue||O.level;return R}readSpatialReference(R,O){return R||O.fullExtent&&O.fullExtent.spatialReference&&A.Z.fromJSON(O.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const R=[],{urlTemplate:O,subDomains:F}=this,q=new X.R9(O),re=q.scheme?q.scheme+"://":"//",ie=re+q.authority+"/";if(q.authority.includes("{subDomain}")){if(F&&F.length>0&&q.authority.split(".").length>1)for(const J of F)R.push(re+q.authority.replace(/\{subDomain\}/gi,J)+"/")}else R.push(ie);return R.map(J=>("/"!==J.charAt(J.length-1)&&(J+="/"),J))}get urlPath(){if(!this.urlTemplate)return null;const R=this.urlTemplate,O=new X.R9(R);return R.substring(((O.scheme?O.scheme+"://":"//")+O.authority+"/").length)}readUrlTemplate(R,O){return R||O.templateUrl}writeUrlTemplate(R,O){R&&(0,X.oC)(R)&&(R="https:"+R),R&&(R=R.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),R=(0,X.Fv)(R)),O.templateUrl=R}fetchTile(R,O,F,q={}){const{signal:re}=q,ie=this.getTileUrl(R,O,F),J={responseType:"image",signal:re,query:de({},this.refreshParameters)};return(0,U.default)(ie,J).then(k=>k.data)}getTileUrl(R,O,F){const q=this.levelValues[R];return this.tileServers[O%this.tileServers.length]+(0,N.gx)(this.urlPath,{level:q,z:q,col:F,x:F,row:O,y:O})}};(0,_._)([(0,G.Cb)({type:String,value:"",json:{write:!0}})],D.prototype,"copyright",void 0),(0,_._)([(0,G.Cb)({type:v.Z,json:{write:!0},nonNullable:!0})],D.prototype,"fullExtent",void 0),(0,_._)([(0,G.Cb)({readOnly:!0,json:{read:!1,write:!1}})],D.prototype,"legendEnabled",void 0),(0,_._)([(0,G.Cb)({type:["show","hide"]})],D.prototype,"listMode",void 0),(0,_._)([(0,G.Cb)({json:{read:!0,write:!0}})],D.prototype,"blendMode",void 0),(0,_._)([(0,G.Cb)()],D.prototype,"levelValues",null),(0,_._)([(0,G.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],D.prototype,"isReference",void 0),(0,_._)([(0,G.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],D.prototype,"operationalLayerType",void 0),(0,_._)([(0,G.Cb)({readOnly:!0,json:{read:!1,write:!1}})],D.prototype,"popupEnabled",void 0),(0,_._)([(0,G.Cb)({type:A.Z})],D.prototype,"spatialReference",void 0),(0,_._)([(0,x.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],D.prototype,"readSpatialReference",null),(0,_._)([(0,G.Cb)({type:[String],json:{write:!0}})],D.prototype,"subDomains",void 0),(0,_._)([(0,G.Cb)({type:m.Z,json:{write:!0}})],D.prototype,"tileInfo",void 0),(0,_._)([(0,G.Cb)({readOnly:!0})],D.prototype,"tileServers",null),(0,_._)([(0,G.Cb)({json:{read:!1}})],D.prototype,"type",void 0),(0,_._)([(0,G.Cb)()],D.prototype,"urlPath",null),(0,_._)([(0,G.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],D.prototype,"urlTemplate",void 0),(0,_._)([(0,x.r)("urlTemplate",["urlTemplate","templateUrl"])],D.prototype,"readUrlTemplate",null),(0,_._)([(0,b.c)("urlTemplate",{templateUrl:{type:String}})],D.prototype,"writeUrlTemplate",null),(0,_._)([(0,G.Cb)({type:c.B,json:{write:!0}})],D.prototype,"wmtsInfo",void 0),D=(0,_._)([(0,H.j)("esri.layers.WebTileLayer")],D);const S=D},49410:(ae,Q,t)=>{t.d(Q,{Z:()=>ue});var _=t(15861),h=t(17626),U=t(73281),H=(t(4832),t(49067),t(96794),t(69747),t(40425),t(69357),t(40342),t(14726),t(33474),t(32088)),b=t(84792),L=t(26584),C=t(2076),W=t(47996),B=t(63290),E=t(62208),Z=t(60330),a=t(77712),A=(t(85931),t(8314),t(90912),t(55342)),$=t(68653),D=t(76898),S=t(2004),R=t(65234),O=t(32258),F=t(11136),q=t(59787),re=t(13812),ie=t(55911),J=t(60466),k=t(60595),se=t(35031),ne=t(84952),te=t(49430),P=t(82706);const T=B.Z.getLogger("esri.layers.buildingSublayers.BuildingComponentSublayer"),Y=(0,ie.v)();let ee=class extends(W.Z.LoadableMixin((0,Z.v)(F.Z))){constructor(oe){super(oe),this.type="building-component",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.fields=null,this.associatedLayer=null,this.outFields=null,this.listMode="show",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType="3d-object"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl.path}/sublayers/${this.id}`,query:this.layer.parsedUrl.query}:null}get fieldsIndex(){return new J.Z(this.fields)}readAssociatedLayer(oe,ce){const pe=this.layer.associatedFeatureServiceItem,fe=ce.associatedLayerID;return(0,E.pC)(pe)&&"number"==typeof fe?new O.default({portalItem:pe,layerId:fe}):null}get objectIdField(){if(null!=this.fields)for(const oe of this.fields)if("oid"===oe.type)return oe.name;return null}get displayField(){return(0,E.pC)(this.associatedLayer)?this.associatedLayer.displayField:null}get apiKey(){return this.layer.apiKey}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(oe){const ce=(0,E.pC)(oe)?oe.signal:null,pe=this._fetchService(ce).then(()=>{this.indexInfo=(0,k.T)(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,T,ce)});return this.addResolvingPromise(pe),Promise.resolve(this)}createPopupTemplate(oe){return(0,te.eZ)(this,oe)}_fetchService(oe){var ce=this;return(0,_.Z)(function*(){const pe=(yield(0,b.default)(ce.parsedUrl.path,{query:{f:"json",token:ce.apiKey},responseType:"json",signal:oe})).data;ce.read(pe,{origin:"service",url:ce.parsedUrl})})()}getField(oe){return this.fieldsIndex.get(oe)}getFieldDomain(oe,ce){var fe,Me,De,Ie;const pe=null==(Me=null==(fe=this.getFeatureType(null==ce?void 0:ce.feature))?void 0:fe.domains)?void 0:Me[oe];return pe&&"inherited"!==pe.type?pe:null!=(Ie=null==(De=this.getField(oe))?void 0:De.domain)?Ie:null}getFeatureType(oe){return oe&&(0,E.pC)(this.associatedLayer)?this.associatedLayer.getFeatureType(oe):null}get types(){return(0,E.pC)(this.associatedLayer)?this.associatedLayer.types:[]}get typeIdField(){return(0,E.pC)(this.associatedLayer)?this.associatedLayer.typeIdField:null}get geometryType(){return"3d-object"===this.layerType?"mesh":"point"}get profile(){return"3d-object"===this.layerType?"mesh-pyramids":"points"}get capabilities(){const oe=(0,E.pC)(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:q.C,{query:ce,data:{supportsZ:pe,supportsM:fe,isVersioned:Me}}=oe;return{query:ce,data:{supportsZ:pe,supportsM:fe,isVersioned:Me}}}createQuery(){const oe=new ne.Z;return"mesh"!==this.geometryType&&(oe.returnGeometry=!0,oe.returnZ=!0),oe.where=this.definitionExpression||"1=1",oe.sqlFormat="standard",oe}queryExtent(oe,ce){return this._getAssociatedLayerForQuery().then(pe=>pe.queryExtent(oe||this.createQuery(),ce))}queryFeatureCount(oe,ce){return this._getAssociatedLayerForQuery().then(pe=>pe.queryFeatureCount(oe||this.createQuery(),ce))}queryFeatures(oe,ce){return this._getAssociatedLayerForQuery().then(pe=>pe.queryFeatures(oe||this.createQuery(),ce)).then(pe=>{if(null==pe?void 0:pe.features)for(const fe of pe.features)fe.layer=this.layer,fe.sourceLayer=this;return pe})}queryObjectIds(oe,ce){return this._getAssociatedLayerForQuery().then(pe=>pe.queryObjectIds(oe||this.createQuery(),ce))}getFieldUsageInfo(oe){return this.fieldsIndex.has(oe)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:(0,E.pC)(this.associatedLayer)}}_getAssociatedLayerForQuery(){const oe=this.associatedLayer;return(0,E.pC)(oe)&&oe.loaded?Promise.resolve(oe):this._loadAssociatedLayerForQuery()}_loadAssociatedLayerForQuery(){var oe=this;return(0,_.Z)(function*(){if(yield oe.load(),(0,E.Wi)(oe.associatedLayer))throw new L.Z("buildingscenelayer:query-not-available","BuildingSceneLayer component layer queries are not available without an associated feature layer",{layer:oe});try{yield oe.associatedLayer.load()}catch(ce){throw new L.Z("buildingscenelayer:query-not-available","BuildingSceneLayer associated feature layer could not be loaded",{layer:oe,error:ce})}return oe.associatedLayer})()}};(0,h._)([(0,a.Cb)({readOnly:!0})],ee.prototype,"parsedUrl",null),(0,h._)([(0,a.Cb)({type:se.U4,readOnly:!0})],ee.prototype,"nodePages",void 0),(0,h._)([(0,a.Cb)({type:[se.QI],readOnly:!0})],ee.prototype,"materialDefinitions",void 0),(0,h._)([(0,a.Cb)({type:[se.Yh],readOnly:!0})],ee.prototype,"textureSetDefinitions",void 0),(0,h._)([(0,a.Cb)({type:[se.H3],readOnly:!0})],ee.prototype,"geometryDefinitions",void 0),(0,h._)([(0,a.Cb)({readOnly:!0})],ee.prototype,"serviceUpdateTimeStamp",void 0),(0,h._)([(0,a.Cb)({readOnly:!0})],ee.prototype,"store",void 0),(0,h._)([(0,a.Cb)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],ee.prototype,"rootNode",void 0),(0,h._)([(0,a.Cb)({readOnly:!0})],ee.prototype,"attributeStorageInfo",void 0),(0,h._)([(0,a.Cb)(Y.fields)],ee.prototype,"fields",void 0),(0,h._)([(0,a.Cb)({readOnly:!0})],ee.prototype,"fieldsIndex",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:O.default})],ee.prototype,"associatedLayer",void 0),(0,h._)([(0,$.r)("service","associatedLayer",["associatedLayerID"])],ee.prototype,"readAssociatedLayer",null),(0,h._)([(0,a.Cb)(Y.outFields)],ee.prototype,"outFields",void 0),(0,h._)([(0,a.Cb)({type:String,readOnly:!0})],ee.prototype,"objectIdField",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:String,json:{read:!1}})],ee.prototype,"displayField",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:String})],ee.prototype,"apiKey",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:S.Z})],ee.prototype,"fullExtent",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:R.Z})],ee.prototype,"spatialReference",null),(0,h._)([(0,a.Cb)({readOnly:!0})],ee.prototype,"version",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:P.ZP})],ee.prototype,"elevationInfo",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:Number})],ee.prototype,"minScale",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:Number})],ee.prototype,"maxScale",null),(0,h._)([(0,a.Cb)({readOnly:!0,type:Number})],ee.prototype,"effectiveScaleRange",null),(0,h._)([(0,a.Cb)({type:["hide","show"],json:{write:!0}})],ee.prototype,"listMode",void 0),(0,h._)([(0,a.Cb)({types:H.o,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},name:"layerDefinition.drawingInfo.renderer",write:!0},value:null})],ee.prototype,"renderer",void 0),(0,h._)([(0,a.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ee.prototype,"definitionExpression",void 0),(0,h._)([(0,a.Cb)(re.C_)],ee.prototype,"popupEnabled",void 0),(0,h._)([(0,a.Cb)({type:U.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ee.prototype,"popupTemplate",void 0),(0,h._)([(0,a.Cb)({readOnly:!0,type:String,json:{origins:{service:{read:{source:"store.normalReferenceFrame"}}},read:!1}})],ee.prototype,"normalReferenceFrame",void 0),(0,h._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],ee.prototype,"defaultPopupTemplate",null),(0,h._)([(0,a.Cb)()],ee.prototype,"types",null),(0,h._)([(0,a.Cb)()],ee.prototype,"typeIdField",null),(0,h._)([(0,a.Cb)({json:{write:!1}}),(0,A.J)(new C.X({"3DObject":"3d-object",Point:"point"}))],ee.prototype,"layerType",void 0),(0,h._)([(0,a.Cb)()],ee.prototype,"geometryType",null),(0,h._)([(0,a.Cb)()],ee.prototype,"profile",null),(0,h._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],ee.prototype,"capabilities",null),ee=(0,h._)([(0,D.j)("esri.layers.buildingSublayers.BuildingComponentSublayer")],ee);const ue=ee},20925:(ae,Q,t)=>{t.d(Q,{Z:()=>W});var x,_=t(17626),h=t(46160),U=t(47877),j=t(14889),z=t(77712),M=(t(85931),t(8314),t(90912),t(76898)),V=t(49410),w=t(11136);const H={type:h.Z,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:b}}},read:!1}};function b(B,E,Z){if(B&&Array.isArray(B))return new h.Z(B.map(a=>{const m=function C(B){return"group"===B.layerType?L:V.Z}(a);if(m){const c=new m;return c.read(a,Z),c}Z&&Z.messages&&a&&Z.messages.push(new j.Z("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:Z}))}))}let L=x=class extends w.Z{constructor(B){super(B),this.type="building-group",this.listMode="show",this.sublayers=null}loadAll(){return(0,U.w)(this,B=>x.forEachSublayer(this.sublayers,E=>{"building-group"!==E.type&&B(E)}))}};var B;(0,_._)([(0,z.Cb)({type:["hide","show","hide-children"],json:{write:!0}})],L.prototype,"listMode",void 0),(0,_._)([(0,z.Cb)(H)],L.prototype,"sublayers",void 0),L=x=(0,_._)([(0,M.j)("esri.layers.buildingSublayers.BuildingGroupSublayer")],L),(B=L||(L={})).sublayersProperty=H,B.readSublayers=b,B.forEachSublayer=function E(Z,a){Z.forEach(m=>{a(m),"building-group"===m.type&&E(m.sublayers,a)})};const W=L},11136:(ae,Q,t)=>{t.d(Q,{Z:()=>x});var _=t(17626),h=t(61996),U=t(99959),j=t(77712),X=(t(85931),t(8314),t(90912)),G=t(68653),M=t(76898),V=t(13812);let w=class extends((0,h.IG)(U.w)){constructor(H){super(H),this.title="",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(H,b){return"string"==typeof b.alias?b.alias:"string"==typeof b.name?b.name:""}readIdOnlyOnce(H){return-1!==this.id?this.id:"number"==typeof H?H:void 0}};(0,_._)([(0,j.Cb)({type:String,json:{origins:{"web-scene":{write:!0},"portal-item":{write:!0}}}})],w.prototype,"title",void 0),(0,_._)([(0,G.r)("service","title",["alias","name"])],w.prototype,"readTitle",null),(0,_._)([(0,j.Cb)()],w.prototype,"layer",void 0),(0,_._)([(0,j.Cb)({type:X.z8,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],w.prototype,"id",void 0),(0,_._)([(0,G.r)("service","id")],w.prototype,"readIdOnlyOnce",null),(0,_._)([(0,j.Cb)((0,V.Lx)(String))],w.prototype,"modelName",void 0),(0,_._)([(0,j.Cb)((0,V.Lx)(Boolean))],w.prototype,"isEmpty",void 0),(0,_._)([(0,j.Cb)({type:Boolean,json:{name:"visibility",write:!0}})],w.prototype,"visible",void 0),(0,_._)([(0,j.Cb)({type:Number,json:{write:!0}})],w.prototype,"opacity",void 0),w=(0,_._)([(0,M.j)("esri.layers.buildingSublayers.BuildingSublayer")],w);const x=w},1476:(ae,Q,t)=>{t.d(Q,{S:()=>h,X:()=>_});const _=1;function h(U,j){var N;let z=0;for(const X of j){const G=null==(N=X.attributes)?void 0:N[U];"number"==typeof G&&isFinite(G)&&(z=Math.max(z,G))}return z}},35775:(ae,Q,t)=>{t.d(Q,{O0:()=>w,av:()=>X,b:()=>W,d1:()=>M,og:()=>b});var _=t(15861),h=t(62208),U=t(37053),j=t(36630);class z{constructor(){this.code=null,this.description=null}}class N{constructor(Z){this.error=new z,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=Z}}function X(E){return new N(E)}class G{constructor(Z){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=Z}}function M(E){return new G(E)}const V=new Set;function w(E,Z,a,m=!1,c){V.clear();for(const v in a){const A=E.get(v);if(!A)continue;const $=a[v],D=x(A,$);if(D!==$&&c&&c.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:A,originalValue:$,sanitizedValue:D}}),V.add(A.name),A&&(m||A.editable)){const S=(0,j.Qc)(A,D);if(S)return X((0,j.vP)(S,A,D));Z[A.name]=D}}for(const v of E.requiredFields)if(!V.has(v.name))return X(`missing required field "${v.name}"`);return null}function x(E,Z){let a=Z;return"string"==typeof Z&&(0,j.H7)(E)?a=parseFloat(Z):null!=Z&&(0,j.qN)(E)&&"string"!=typeof Z&&(a=String(Z)),(0,j.Pz)(a)}let H;function b(E,Z){if(!E||!(0,U.JY)(Z))return E;if("rings"in E||"paths"in E){if((0,h.Wi)(H))throw new TypeError("geometry engine not loaded");return H.simplify(Z,E)}return E}function L(){return C.apply(this,arguments)}function C(){return(C=(0,_.Z)(function*(){return(0,h.Wi)(H)&&(H=yield Promise.all([t.e(4918),t.e(8592),t.e(2825)]).then(t.bind(t,32825))),H})).apply(this,arguments)}function W(E,Z){return B.apply(this,arguments)}function B(){return(B=(0,_.Z)(function*(E,Z){!(0,U.JY)(E)||"esriGeometryPolygon"!==Z&&"esriGeometryPolyline"!==Z||(yield L())})).apply(this,arguments)}},5143:(ae,Q,t)=>{t.d(Q,{Z:()=>x});var _=t(17626),U=(t(29132),t(77712)),X=(t(85931),t(8314),t(90912),t(68653)),G=t(76898),M=t(51026),V=t(28930),w=t(65234);const x=H=>{let b=class extends H{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(L,C){return null!=C.minLOD&&null!=C.maxLOD?L:0}readMaxScale(L,C){return null!=C.minLOD&&null!=C.maxLOD?L:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(L,C){return C.capabilities&&C.capabilities.includes("Tilemap")?new V.y({layer:this}):null}};return(0,_._)([(0,U.Cb)({json:{read:{source:"copyrightText"}}})],b.prototype,"copyright",void 0),(0,_._)([(0,U.Cb)()],b.prototype,"minScale",void 0),(0,_._)([(0,X.r)("service","minScale")],b.prototype,"readMinScale",null),(0,_._)([(0,U.Cb)()],b.prototype,"maxScale",void 0),(0,_._)([(0,X.r)("service","maxScale")],b.prototype,"readMaxScale",null),(0,_._)([(0,U.Cb)({type:w.Z})],b.prototype,"spatialReference",void 0),(0,_._)([(0,U.Cb)({readOnly:!0})],b.prototype,"supportsBlankTile",null),(0,_._)([(0,U.Cb)(M.h)],b.prototype,"tileInfo",void 0),(0,_._)([(0,U.Cb)()],b.prototype,"tilemapCache",void 0),(0,_._)([(0,X.r)("service","tilemapCache",["capabilities"])],b.prototype,"readTilemapCache",null),(0,_._)([(0,U.Cb)()],b.prototype,"version",void 0),b=(0,_._)([(0,G.j)("esri.layers.mixins.ArcGISCachedService")],b),b}},22825:(ae,Q,t)=>{t.d(Q,{A:()=>h});const _=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function h(U){return _.some(([j,z])=>U>=j&&U<=z)}},14772:(ae,Q,t)=>{t.d(Q,{R:()=>L});var _=t(17626),h=t(14517),U=t(80542),j=t(62208),z=t(95737),N=t(77712),V=(t(85931),t(8314),t(90912),t(76898)),w=t(13812),x=t(59990),H=t(13410);const b={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let L=class extends((0,U.p)(h.Z)){constructor(C){super(C),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const C=this.visibleSublayers.map(W=>{const B=(0,x.f)(this.floors,W);return W.toExportImageJSON(B)});return C.length?JSON.stringify(C):null}get hasDynamicLayers(){return this.layer&&(0,H.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(C){this._get("layer")!==C&&(this._set("layer",C),this.handles.remove("layer"),C&&this.handles.add([C.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),C.on("sublayer-update",W=>this.notifyChange(b[W.propertyName]))],"layer"))}get layers(){const C=this.visibleSublayers;return C?C.length?"show:"+C.map(W=>W.id).join(","):"show:-1":null}get layerDefs(){var B;const C=!!(null==(B=this.floors)?void 0:B.length),W=this.visibleSublayers.filter(E=>null!=E.definitionExpression||C&&null!=E.floorInfo);return W.length?JSON.stringify(W.reduce((E,Z)=>{const a=(0,x.f)(this.floors,Z),m=(0,z._)(a,Z.definitionExpression);return(0,j.pC)(m)&&(E[Z.id]=m),E},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const C=this.layer;return C&&(C.commitProperty("dpi"),C.commitProperty("imageFormat"),C.commitProperty("imageTransparency"),C.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const C=[];if(!this.layer)return C;const W=this.layer.sublayers,B=Z=>{const a=this.scale;Z.visible&&(0===a||(0===Z.minScale||a<=Z.minScale)&&(0===Z.maxScale||a>=Z.maxScale))&&(Z.sublayers?Z.sublayers.forEach(B):C.unshift(Z))};W&&W.forEach(B);const E=this._get("visibleSublayers");return!E||E.length!==C.length||E.some((Z,a)=>C[a]!==Z)?C:E}toJSON(){const C=this.layer;let W={dpi:C.dpi,format:C.imageFormat,transparent:C.imageTransparency,gdbVersion:C.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?W.dynamicLayers=this.dynamicLayers:W=me(de({},W),{layers:this.layers,layerDefs:this.layerDefs}),W}};(0,_._)([(0,N.Cb)({readOnly:!0})],L.prototype,"dynamicLayers",null),(0,_._)([(0,N.Cb)()],L.prototype,"floors",void 0),(0,_._)([(0,N.Cb)({readOnly:!0})],L.prototype,"hasDynamicLayers",null),(0,_._)([(0,N.Cb)()],L.prototype,"layer",null),(0,_._)([(0,N.Cb)({readOnly:!0})],L.prototype,"layers",null),(0,_._)([(0,N.Cb)({readOnly:!0})],L.prototype,"layerDefs",null),(0,_._)([(0,N.Cb)({type:Number})],L.prototype,"scale",void 0),(0,_._)([(0,N.Cb)(w.qG)],L.prototype,"timeExtent",void 0),(0,_._)([(0,N.Cb)({readOnly:!0})],L.prototype,"version",null),(0,_._)([(0,N.Cb)({readOnly:!0})],L.prototype,"visibleSublayers",null),L=(0,_._)([(0,V.j)("esri.layers.mixins.ExportImageParameters")],L)},51920:(ae,Q,t)=>{t.d(Q,{j:()=>V});var _=t(17626),h=t(14517),U=t(80542),j=t(77712),G=(t(85931),t(8314),t(90912),t(76898));const M={visible:"visibleSublayers"};let V=class extends((0,U.p)(h.Z)){constructor(w){super(w),this.scale=0}set layer(w){this._get("layer")!==w&&(this._set("layer",w),this.handles.remove("layer"),w&&this.handles.add([w.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),w.on("wms-sublayer-update",x=>this.notifyChange(M[x.propertyName]))],"layer"))}get layers(){const{visibleSublayers:w}=this;return w.filter(x=>x.name).map(x=>x.name).join(",")}get version(){this.commitProperty("layers");const w=this.layer;return w&&w.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:w,scale:x}=this,H=null==w?void 0:w.sublayers,b=[],L=C=>{const{minScale:W,maxScale:B,sublayers:E,visible:Z}=C;Z&&(0===x||(0===W||x<=W)&&(0===B||x>=B))&&(E?E.forEach(L):b.unshift(C))};return null==H||H.forEach(L),b}toJSON(){const{layer:w,layers:x}=this,{imageFormat:H,imageTransparency:b,version:L}=w;return{format:H,request:"GetMap",service:"WMS",styles:"",transparent:b?"TRUE":"FALSE",version:L,layers:x}}};(0,_._)([(0,j.Cb)()],V.prototype,"layer",null),(0,_._)([(0,j.Cb)({readOnly:!0})],V.prototype,"layers",null),(0,_._)([(0,j.Cb)({type:Number})],V.prototype,"scale",void 0),(0,_._)([(0,j.Cb)({readOnly:!0})],V.prototype,"version",null),(0,_._)([(0,j.Cb)({readOnly:!0})],V.prototype,"visibleSublayers",null),V=(0,_._)([(0,G.j)("esri.layers.support.ExportWMSImageParameters")],V)},28930:(ae,Q,t)=>{t.d(Q,{y:()=>$});var v,_=t(15861),h=t(17626),U=t(84792),j=t(14517),z=t(27306),N=t(26584),X=t(80542),G=t(63290),M=t(93961),V=t(77029),w=t(10699),x=t(32917),H=t(50618),b=t(21726),L=t(77712),C=t(85931),B=(t(8314),t(66656)),E=t(76898),Z=t(58817);class a{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(S,R){if("unknown"!==this._allAvailability)return this._allAvailability;const O=(S-this.location.top)*this.location.width+(R-this.location.left),q=O>>3,re=this._tileAvailabilityBitSet;return q<0||q>re.length?"unknown":re[q]&1<<O%8?"available":"unavailable"}_updateFromData(S){let F=!0,q=!0;const re=Math.ceil(this.location.width*this.location.height/8),ie=new Uint8Array(re);let J=0;for(let k=0;k<S.length;k++){const se=k%8;S[k]?(q=!1,ie[J]|=1<<se):F=!1,7===se&&++J}q?this._allAvailability="unavailable":F?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=ie,this.byteSize+=ie.length)}static fromDefinition(S,R){const O=S.service.request||U.default,{row:F,col:q,width:re,height:ie}=S,J={query:{f:"json"}};return R=R?de(de({},J),R):J,O(function c(D){let S;if("vector-tile"===D.service.type)S=`${D.service.url}/tilemap/${D.level}/${D.row}/${D.col}/${D.width}/${D.height}`;else{const O=D.service.tileServers;S=`${O&&O.length?O[D.row%O.length]:D.service.url}/tilemap/${D.level}/${D.row}/${D.col}/${D.width}/${D.height}`}const R=D.service.query;return R&&(S=`${S}?${R}`),S}(S),R).then(k=>k.data).catch(k=>{if(k&&k.details&&422===k.details.httpStatus)return{location:{top:F,left:q,width:re,height:ie},valid:!0,data:(0,C.a9)(re*ie,0)};throw k}).then(k=>{if(k.location&&(k.location.top!==F||k.location.left!==q||k.location.width!==re||k.location.height!==ie))throw new N.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:k,definition:{top:F,left:q,width:re,height:ie}});return a.fromJSON(k)})}static fromJSON(S){a._validateJSON(S);const R=new a;return R.location=Object.freeze((0,Z.d9)(S.location)),R._updateFromData(S.data),Object.freeze(R)}static _validateJSON(S){if(!S||!S.location)throw new N.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===S.valid)throw new N.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!S.data)throw new N.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(S.data))throw new N.Z("tilemap:data-mismatch","Data must be an array of numbers");if(S.data.length!==S.location.width*S.location.height)throw new N.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function m(D){return`${D.level}/${D.row}/${D.col}/${D.width}/${D.height}`}const A=G.Z.getLogger("esri.layers.support.TilemapCache");let $=v=class extends((0,X.p)(j.Z)){constructor(D){super(D),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*z.Y8.MEGABYTES,this.request=U.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new M.Z(this.cacheByteSize),this.own([(0,x.YP)(()=>{const{layer:D}=this;return[null==D?void 0:D.parsedUrl,null==D?void 0:D.tileServers,null==D?void 0:D.apiKey,null==D?void 0:D.customParameters]},()=>this._initializeTilemapDefinition()),(0,x.YP)(()=>{var D,S;return null==(S=null==(D=this.layer)?void 0:D.tileInfo)?void 0:S.lods},D=>this._initializeAvailableLevels(D),x.tX)]),this._initializeTilemapDefinition()}castLevels(D){return D<=2?(A.error("Minimum levels for Tilemap is 3, but got ",D),3):D}get size(){return 1<<this.levels}fetchTilemap(D,S,R,O){if(!this._availableLevels[D])return Promise.reject(new N.Z("tilemap-cache:level-unavailable",`Level ${D} is unavailable in the service`));const F=this._tmpTilemapDefinition,q=this._tilemapFromCache(D,S,R,F);if(q)return Promise.resolve(q);const re=O&&O.signal;return O=me(de({},O),{signal:null}),new Promise((ie,J)=>{(0,w.fu)(re,()=>J((0,w.zE)()));const k=m(F);let se=this._pendingTilemapRequests[k];if(!se){se=a.fromDefinition(F,O).then(te=>(this._tilemapCache.put(k,te,te.byteSize),te));const ne=()=>delete this._pendingTilemapRequests[k];this._pendingTilemapRequests[k]=se,se.then(ne,ne)}se.then(ie,J)})}getAvailability(D,S,R){if(!this._availableLevels[D])return"unavailable";const O=this._tilemapFromCache(D,S,R,this._tmpTilemapDefinition);return O?O.getAvailability(S,R):"unknown"}fetchAvailability(D,S,R,O){return this._availableLevels[D]?this.fetchTilemap(D,S,R,O).catch(F=>F).then(F=>{if(F instanceof a){const q=F.getAvailability(S,R);if("unavailable"===q)throw new N.Z("tile-map:tile-unavailable","Tile is not available",{level:D,row:S,col:R});return q}if((0,w.D_)(F))throw F;return"unknown"}):Promise.reject(new N.Z("tilemap-cache:level-unavailable",`Level ${D} is unavailable in the service`))}fetchAvailabilityUpsample(D,S,R,O,F){O.level=D,O.row=S,O.col=R;const q=this.layer.tileInfo;q.updateTileInfo(O);const re=this.fetchAvailability(D,S,R,F).catch(ie=>{if((0,w.D_)(ie))throw ie;if(q.upsampleTile(O))return this.fetchAvailabilityUpsample(O.level,O.row,O.col,O);throw ie});return this._fetchAvailabilityUpsamplePrefetch(O.id,D,S,R,F,re),re}_fetchAvailabilityUpsamplePrefetch(D,S,R,O,F,q){var re=this;return(0,_.Z)(function*(){if(!re._prefetchingEnabled)return;const ie=`prefetch-${D}`;if(re.handles.has(ie))return;const J=new AbortController;q.then(()=>J.abort(),()=>J.abort());let k=!1;if(re.handles.add({remove(){k||(k=!0,J.abort())}},ie),yield(0,H.MU)(10,J.signal).catch(()=>{}),k||(k=!0,re.handles.remove(ie)),(0,w.Hc)(J))return;const ne={id:D,level:S,row:R,col:O},te=me(de({},F),{signal:J.signal}),P=re.layer.tileInfo;for(let T=0;v._prefetches.length<v._maxPrefetch&&P.upsampleTile(ne);++T){const Y=re.fetchAvailability(ne.level,ne.row,ne.col,te);v._prefetches.push(Y);const ee=()=>{v._prefetches.removeUnordered(Y)};Y.then(ee,ee)}})()}_initializeTilemapDefinition(){var O;if(!this.layer.parsedUrl)return;const{parsedUrl:D,apiKey:S,customParameters:R}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:D.path,query:(0,b.B7)(me(de(de({},D.query),R),{token:null!=S?S:null==(O=D.query)?void 0:O.token})),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(D,S,R,O){O.level=D,O.row=S-S%this.size,O.col=R-R%this.size;const F=m(O);return this._tilemapCache.get(F)}_initializeAvailableLevels(D){this._availableLevels={},D&&D.forEach(S=>this._availableLevels[S.level]=!0)}get test(){const D=this;return{get prefetchingEnabled(){return D._prefetchingEnabled},set prefetchingEnabled(S){D._prefetchingEnabled=S},hasTilemap:(S,R,O)=>!!D._tilemapFromCache(S,R,O,D._tmpTilemapDefinition)}}};$._maxPrefetch=4,$._prefetches=new V.Z({initialSize:v._maxPrefetch}),(0,h._)([(0,L.Cb)({constructOnly:!0,type:Number})],$.prototype,"levels",void 0),(0,h._)([(0,B.p)("levels")],$.prototype,"castLevels",null),(0,h._)([(0,L.Cb)({readOnly:!0,type:Number})],$.prototype,"size",null),(0,h._)([(0,L.Cb)({constructOnly:!0,type:Number})],$.prototype,"cacheByteSize",void 0),(0,h._)([(0,L.Cb)({constructOnly:!0})],$.prototype,"layer",void 0),(0,h._)([(0,L.Cb)({constructOnly:!0})],$.prototype,"request",void 0),$=v=(0,h._)([(0,E.j)("esri.layers.support.TilemapCache")],$)},91309:(ae,Q,t)=>{t.d(Q,{B:()=>G});var X,_=t(17626),h=t(86810),U=t(58817),j=t(77712),N=(t(90912),t(76898));let G=X=class extends h.wq{constructor(M){super(M)}clone(){return new X({customLayerParameters:(0,U.d9)(this.customLayerParameters),customParameters:(0,U.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,_._)([(0,j.Cb)({json:{type:Object,write:!0}})],G.prototype,"customLayerParameters",void 0),(0,_._)([(0,j.Cb)({json:{type:Object,write:!0}})],G.prototype,"customParameters",void 0),(0,_._)([(0,j.Cb)({type:String,json:{write:!0}})],G.prototype,"layerIdentifier",void 0),(0,_._)([(0,j.Cb)({type:String,json:{write:!0}})],G.prototype,"tileMatrixSet",void 0),(0,_._)([(0,j.Cb)({type:String,json:{write:!0}})],G.prototype,"url",void 0),G=X=(0,_._)([(0,N.j)("esri.layer.support.WMTSLayerInfo")],G)},24578:(ae,Q,t)=>{t.r(Q),t.d(Q,{fetchFeatureService:()=>Z,fromUrl:()=>G});var _=t(15861),h=t(84792),U=t(26584),j=t(62208),z=t(21726),N=t(38305),X=t(30164);function G(S){return M.apply(this,arguments)}function M(){return(M=(0,_.Z)(function*(S){var re;const R=null==(re=S.properties)?void 0:re.customParameters,O=yield x(S.url,R),F=me(de({},S.properties),{url:S.url});if(!O.sublayerIds)return null!=O.layerOrTableId&&(F.layerId=O.layerOrTableId,F.sourceJSON=O.sourceJSON),new O.Constructor(F);const q=new((yield t.e(5964).then(t.bind(t,25964))).default)({title:O.parsedUrl.title});return w(q,O,F),q})).apply(this,arguments)}function V(S,R){return S?S.find(O=>O.id===R):null}function w(S,R,O){function F(q,re){const ie=me(de({},O),{layerId:q,sublayerTitleMode:"service-name"});return(0,j.pC)(re)&&(ie.sourceJSON=re),new R.Constructor(ie)}R.sublayerIds.forEach(q=>{const re=F(q,V(R.sublayerInfos,q));S.add(re)}),R.tableIds.forEach(q=>{const re=F(q,V(R.tableInfos,q));S.tables.add(re)})}function x(S,R){return H.apply(this,arguments)}function H(){return(H=(0,_.Z)(function*(S,R){var te,P;let O=(0,N.Qc)(S);if((0,j.Wi)(O)&&(O=yield b(S,R)),(0,j.Wi)(O))throw new U.Z("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:S});const{serverType:F,sublayer:q}=O;let re;const ie={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(F){case"MapServer":re=null!=q?"FeatureLayer":v(S,R).then(T=>T?"TileLayer":"MapImageLayer");break;case"ImageServer":re=$(S,{customParameters:R}).then(T=>{const Y=T.tileInfo&&T.tileInfo.format;return T.tileInfo?"LERC"!==(null==Y?void 0:Y.toUpperCase())||T.cacheType&&"elevation"!==T.cacheType.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer"});break;case"SceneServer":re=$(O.url.path,{customParameters:R}).then(T=>{var Y;if(T){if("Voxel"===(null==T?void 0:T.layerType))return"VoxelLayer";if((null==T?void 0:T.layers)&&Array.isArray(T.layers)&&T.layers.length>0){const ee={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},ue=null==(Y=T.layers[0])?void 0:Y.layerType;if(null!=ee[ue])return ee[ue]}}return"SceneLayer"});break;default:re=ie[F]}const k="FeatureServer"===F,se={parsedUrl:O,Constructor:null,layerOrTableId:k?q:null,sublayerIds:null,tableIds:null},ne=yield re;if({FeatureLayer:!0,SceneLayer:!0}[ne]&&null==q){const T=yield W(S,F,R);k&&(se.sublayerInfos=T.layerInfos,se.tableInfos=T.tableInfos),T.layerIds.length+T.tableIds.length!==1?(se.sublayerIds=T.layerIds,se.tableIds=T.tableIds):k&&(se.layerOrTableId=null!=(te=T.layerIds[0])?te:T.tableIds[0],se.sourceJSON=null!=(P=T.layerInfos[0])?P:T.tableInfos[0])}return se.Constructor=yield m(ne),se})).apply(this,arguments)}function b(S,R){return L.apply(this,arguments)}function L(){return(L=(0,_.Z)(function*(S,R){var J;const O=yield $(S,{customParameters:R});let F=null,q=null;const re=O.type;if("Feature Layer"===re||"Table"===re?(F="FeatureServer",q=O.id):"indexedVector"===re?F="VectorTileServer":O.hasOwnProperty("mapName")?F="MapServer":O.hasOwnProperty("bandCount")&&O.hasOwnProperty("pixelSizeX")?F="ImageServer":O.hasOwnProperty("maxRecordCount")&&O.hasOwnProperty("allowGeometryUpdates")?F="FeatureServer":O.hasOwnProperty("streamUrls")?F="StreamServer":C(O)?(F="SceneServer",q=O.id):O.hasOwnProperty("layers")&&C(null==(J=O.layers)?void 0:J[0])&&(F="SceneServer"),!F)return null;const ie=null!=q?(0,N.DR)(S):null;return{title:(0,j.pC)(ie)&&O.name||(0,z.vt)(S),serverType:F,sublayer:q,url:{path:(0,j.pC)(ie)?ie.serviceUrl:(0,z.mN)(S).path}}})).apply(this,arguments)}function C(S){return(null==S?void 0:S.hasOwnProperty("store"))&&S.hasOwnProperty("id")&&"number"==typeof S.id}function W(S,R,O){return B.apply(this,arguments)}function B(){return(B=(0,_.Z)(function*(S,R,O){let F,q=!1;if("FeatureServer"===R){const J=yield Z(S,{customParameters:O});q=!!J.layersJSON,F=J.layersJSON||J.serviceJSON}else F=yield $(S,{customParameters:O});const re=null==F?void 0:F.layers,ie=null==F?void 0:F.tables;return{layerIds:(null==re?void 0:re.map(J=>J.id).reverse())||[],tableIds:(null==ie?void 0:ie.map(J=>J.id).reverse())||[],layerInfos:q?re:[],tableInfos:q?ie:[]}})).apply(this,arguments)}function E(S){return!S.type||"Feature Layer"===S.type}function Z(S,R){return a.apply(this,arguments)}function a(){return(a=(0,_.Z)(function*(S,R){var re,ie;let O=yield $(S,R);O=O||{},O.layers=(null==(re=O.layers)?void 0:re.filter(E))||[];const F={serviceJSON:O};if(O.currentVersion<10.5)return F;const q=yield $(S+"/layers",R);return F.layersJSON={layers:(null==(ie=null==q?void 0:q.layers)?void 0:ie.filter(E))||[],tables:(null==q?void 0:q.tables)||[]},F})).apply(this,arguments)}function m(S){return c.apply(this,arguments)}function c(){return(c=(0,_.Z)(function*(S){return(0,X.T[S])()})).apply(this,arguments)}function v(S,R){return A.apply(this,arguments)}function A(){return(A=(0,_.Z)(function*(S,R){return(yield $(S,{customParameters:R})).tileInfo})).apply(this,arguments)}function $(S,R){return D.apply(this,arguments)}function D(){return(D=(0,_.Z)(function*(S,R){return(yield(0,h.default)(S,{responseType:"json",query:me(de({f:"json"},null==R?void 0:R.customParameters),{token:null==R?void 0:R.apiKey})})).data})).apply(this,arguments)}},96504:(ae,Q,t)=>{t.d(Q,{Z:()=>M});var _=t(17626),h=t(86810),U=t(77712),X=(t(85931),t(8314),t(90912),t(76898));let G=class extends h.wq{get affectsPixelSize(){return!1}forwardTransform(V){return V}inverseTransform(V){return V}};(0,_._)([(0,U.Cb)()],G.prototype,"affectsPixelSize",null),(0,_._)([(0,U.Cb)({json:{write:!0}})],G.prototype,"spatialReference",void 0),G=(0,_._)([(0,X.j)("esri.layers.support.rasterTransforms.BaseRasterTransform")],G);const M=G},76671:(ae,Q,t)=>{t.d(Q,{Z:()=>V});var _=t(17626),h=t(77712),N=(t(85931),t(8314),t(90912),t(55342)),X=t(76898),G=t(96504);let M=class extends G.Z{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(w){return"point"===(w=w.clone()).type?(w.x>180+this.tolerance&&(w.x-=360),w):(w.xmin>=180-this.tolerance?(w.xmax-=360,w.xmin-=360):w.xmax>180+this.tolerance&&(w.xmin=-180,w.xmax=180),w)}inverseTransform(w){return"point"===(w=w.clone()).type?(w.x<-this.tolerance&&(w.x+=360),w):(w.xmin<-this.tolerance&&(w.xmin+=360,w.xmax+=360),w)}};(0,_._)([(0,N.J)({GCSShiftXform:"gcs-shift"})],M.prototype,"type",void 0),(0,_._)([(0,h.Cb)()],M.prototype,"tolerance",void 0),M=(0,_._)([(0,X.j)("esri.layers.support.rasterTransforms.GCSShiftTransform")],M);const V=M},85374:(ae,Q,t)=>{t.d(Q,{Z:()=>B});var _=t(17626),U=(t(29132),t(77712)),X=(t(85931),t(8314),t(90912),t(55342)),G=t(68653),M=t(76898),V=t(99433),w=t(96504),x=t(49672),H=t(2004);function b(E,Z,a){const{x:m,y:c}=Z;if(a<2)return{x:E[0]+m*E[2]+c*E[4],y:E[1]+m*E[3]+c*E[5]};if(2===a){const F=m*m,q=c*c,re=m*c;return{x:E[0]+m*E[2]+c*E[4]+F*E[6]+re*E[8]+q*E[10],y:E[1]+m*E[3]+c*E[5]+F*E[7]+re*E[9]+q*E[11]}}const v=m*m,A=c*c,$=m*c,D=v*m,S=v*c,R=m*A,O=c*A;return{x:E[0]+m*E[2]+c*E[4]+v*E[6]+$*E[8]+A*E[10]+D*E[12]+S*E[14]+R*E[16]+O*E[18],y:E[1]+m*E[3]+c*E[5]+v*E[7]+$*E[9]+A*E[11]+D*E[13]+S*E[15]+R*E[17]+O*E[19]}}function L(E,Z,a){const{xmin:m,ymin:c,xmax:v,ymax:A,spatialReference:$}=Z;let D=[];if(a<2)D.push({x:m,y:A}),D.push({x:v,y:A}),D.push({x:m,y:c}),D.push({x:v,y:c});else{let O=10;for(let F=0;F<O;F++)D.push({x:m,y:c+(A-c)*F/(O-1)}),D.push({x:v,y:c+(A-c)*F/(O-1)});O=8;for(let F=1;F<=O;F++)D.push({x:m+(v-m)*F/O,y:c}),D.push({x:m+(v-m)*F/O,y:A})}D=D.map(O=>b(E,O,a));const S=D.map(O=>O.x),R=D.map(O=>O.y);return new H.Z({xmin:Math.min.apply(null,S),xmax:Math.max.apply(null,S),ymin:Math.min.apply(null,R),ymax:Math.max.apply(null,R),spatialReference:$})}let W=class extends w.Z{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(E,Z){const{coeffX:a,coeffY:m}=Z;if(!(null==a?void 0:a.length)||!(null==m?void 0:m.length)||a.length!==m.length)return null;const c=[];for(let v=0;v<a.length;v++)c.push(a[v]),c.push(m[v]);return c}writeForwardCoefficients(E,Z,a){const m=[],c=[];for(let v=0;v<(null==E?void 0:E.length);v++)v%2==0?m.push(E[v]):c.push(E[v]);Z.coeffX=m,Z.coeffY=c}get inverseCoefficients(){let E=this._get("inverseCoefficients");const Z=this._get("forwardCoefficients");return!E&&Z&&this.polynomialOrder<2&&(E=function C(E){const[Z,a,m,c,v,A]=E,$=m*A-v*c,D=v*c-m*A;return[(v*a-Z*A)/$,(m*a-Z*c)/D,A/$,c/D,-v/$,-m/D]}(Z)),E}set inverseCoefficients(E){this._set("inverseCoefficients",E)}readInverseCoefficients(E,Z){const{inverseCoeffX:a,inverseCoeffY:m}=Z;if(!(null==a?void 0:a.length)||!(null==m?void 0:m.length)||a.length!==m.length)return null;const c=[];for(let v=0;v<a.length;v++)c.push(a[v]),c.push(m[v]);return c}writeInverseCoefficients(E,Z,a){const m=[],c=[];for(let v=0;v<(null==E?void 0:E.length);v++)v%2==0?m.push(E[v]):c.push(E[v]);Z.inverseCoeffX=m,Z.inverseCoeffY=c}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(E){if("point"===E.type){const Z=b(this.forwardCoefficients,E,this.polynomialOrder);return new x.Z({x:Z.x,y:Z.y,spatialReference:E.spatialReference})}return L(this.forwardCoefficients,E,this.polynomialOrder)}inverseTransform(E){if("point"===E.type){const Z=b(this.inverseCoefficients,E,this.polynomialOrder);return new x.Z({x:Z.x,y:Z.y,spatialReference:E.spatialReference})}return L(this.inverseCoefficients,E,this.polynomialOrder)}};(0,_._)([(0,U.Cb)({json:{write:!0}})],W.prototype,"polynomialOrder",void 0),(0,_._)([(0,U.Cb)()],W.prototype,"forwardCoefficients",void 0),(0,_._)([(0,G.r)("forwardCoefficients",["coeffX","coeffY"])],W.prototype,"readForwardCoefficients",null),(0,_._)([(0,V.c)("forwardCoefficients")],W.prototype,"writeForwardCoefficients",null),(0,_._)([(0,U.Cb)({json:{write:!0}})],W.prototype,"inverseCoefficients",null),(0,_._)([(0,G.r)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],W.prototype,"readInverseCoefficients",null),(0,_._)([(0,V.c)("inverseCoefficients")],W.prototype,"writeInverseCoefficients",null),(0,_._)([(0,U.Cb)()],W.prototype,"affectsPixelSize",null),(0,_._)([(0,X.J)({PolynomialXform:"polynomial"})],W.prototype,"type",void 0),W=(0,_._)([(0,M.j)("esri.layers.support.rasterTransforms.PolynomialTransform")],W);const B=W},46572:(ae,Q,t)=>{t.d(Q,{j:()=>C,c:()=>W});var _=t(76671),h=t(17626),G=(t(63290),t(90912),t(85931),t(8314),t(82255),t(55342)),M=t(76898),V=t(96504);let w=class extends V.Z{constructor(){super(...arguments),this.type="identity"}};(0,h._)([(0,G.J)({IdentityXform:"identity"})],w.prototype,"type",void 0),w=(0,h._)([(0,M.j)("esri.layers.support.rasterTransforms.IdentityTransform")],w);const x=w;var H=t(85374);const b={GCSShiftXform:_.Z,IdentityXform:x,PolynomialXform:H.Z},L=Object.keys(b);function C(B){return!B||L.includes(null==B?void 0:B.type)}function W(B){if(!(null==B?void 0:B.type))return null;const Z=b[null==B?void 0:B.type];if(Z){const a=new Z;return a.read(B),a}return null}},51026:(ae,Q,t)=>{t.d(Q,{d:()=>U,h:()=>h});var _=t(2584);const h={type:_.Z,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:U}}}}};function U(j,z,N,X){if(!j)return null;const{minScale:G,maxScale:M,minLOD:V,maxLOD:w}=z;if(null!=V&&null!=w)return _.Z.fromJSON(X&&X.ignoreMinMaxLOD?j:me(de({},j),{lods:j.lods.filter(({level:x})=>null!=x&&x>=V&&x<=w)}));if(0!==G&&0!==M){const x=L=>Math.round(1e4*L)/1e4,H=G?x(G):1/0,b=M?x(M):-1/0;return _.Z.fromJSON(me(de({},j),{lods:j.lods.filter(L=>{const C=x(L.scale);return C<=H&&C>=b})}))}return _.Z.fromJSON(j)}},50998:(ae,Q,t)=>{t.r(Q),t.d(Q,{fetchSymbolFromStyle:()=>H,resolveWebStyleSymbol:()=>x});var _=t(20383),h=t(83100),U=t(26584),j=t(62208),z=t(21726),N=t(84687),X=t(29840),G=t(9461),M=t(77345),V=t(71937),w=t(96296);function x(L,C,W,B){return L.name?L.styleName&&"Esri2DPointSymbolsStyle"===L.styleName?function b(L,C,W){const B=V.wm.replace(/\{SymbolName\}/gi,L.name),E=(0,j.pC)(C.portal)?C.portal:N.Z.getDefault();return(0,V.EJ)(B,W).then(Z=>{const a=(0,V.KV)(Z.data);return(0,G.im)(a,{portal:E,url:(0,z.mN)((0,z.Yd)(B)),origin:"portal-item"})})}(L,C,B):(0,V.n2)(L,C,B).then(E=>H(E,L.name,C,W,B)):Promise.reject(new U.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function H(L,C,W,B,E){const Z=L.data,a=W&&(0,j.pC)(W.portal)?W.portal:N.Z.getDefault(),m={portal:a,url:(0,z.mN)(L.baseUrl),origin:"portal-item"},c=Z.items.find(S=>S.name===C);if(!c)return Promise.reject(new U.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${C}' could not be found`,{symbolName:C}));let v=(0,X.f)((0,V.v9)(c,B),m),A=c.thumbnail&&c.thumbnail.href;const $=c.thumbnail&&c.thumbnail.imageData;(0,h.XO)()&&(v=(0,h.pJ)(v),A=(0,h.pJ)(A));const D={portal:a,url:(0,z.mN)((0,z.Yd)(v)),origin:"portal-item"};return(0,V.EJ)(v,E).then(S=>{const R="cimRef"===B?(0,V.KV)(S.data):S.data,O=(0,G.im)(R,D);if(O&&(0,_.dU)(O)){if(A){const F=(0,X.f)(A,m);O.thumbnail=new w.p({url:F})}else $&&(O.thumbnail=new w.p({url:`data:image/png;base64,${$}`}));L.styleUrl?O.styleOrigin=new M.Z({portal:W.portal,styleUrl:L.styleUrl,name:C}):L.styleName&&(O.styleOrigin=new M.Z({portal:W.portal,styleName:L.styleName,name:C}))}return O})}},64288:(ae,Q,t)=>{t.d(Q,{cM:()=>Ke,ws:()=>ce,xV:()=>pe,UK:()=>je,$_:()=>re});var _=t(26584),h=t(63290),j=(t(21286),t(7547)),N=(t(81295),t(39406)),X=t(27899);class G{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(le,_e,ye,Ee,he,Oe,Ce,ve,Pe){this.color=le,this.haloColor=_e,this.haloSize=ye,this.size=Ee,this.angle=he,this.offsetX=Oe,this.offsetY=Ce,this.hAnchor=ve,this.vAnchor=Pe}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}G.pool=new X.Z(G);var M=t(67969),w=(t(55086),t(40852));const x=h.Z.getLogger("esri.views.2d.engine.webgl.Utils"),H="geometry",W=[{name:H,strideInBytes:12}],B=[{name:H,strideInBytes:36}],E=[{name:H,strideInBytes:24}],Z=[{name:H,strideInBytes:12}],a=[{name:H,strideInBytes:40}],m=[{name:H,strideInBytes:36}],c=[{name:H,strideInBytes:36}];function v(K){const le={};for(const _e of K)le[_e.name]=_e.strideInBytes;return le}const A=v([{name:H,strideInBytes:36}]),$=v(W),D=v(B),S=v(E),R=v(Z),O=v(a),F=v(m),q=v(c);function re(K,le){switch(K){case N.LW.MARKER:return le===N.mD.HEATMAP?$:A;case N.LW.FILL:switch(le){case N.mD.DOT_DENSITY:return R;case N.mD.SIMPLE:case N.mD.OUTLINE_FILL_SIMPLE:return S;default:return D}case N.LW.LINE:return O;case N.LW.TEXT:return F;case N.LW.LABEL:return q}}function ce(K){switch(K){case"butt":return j.RL.BUTT;case"round":return j.RL.ROUND;case"square":return j.RL.SQUARE;default:return x.error(new _.Z("mapview-invalid-type",`Cap type ${K} is not a valid option. Defaulting to round`)),j.RL.ROUND}}function pe(K){switch(K){case"miter":return j.AH.MITER;case"bevel":return j.AH.BEVEL;case"round":return j.AH.ROUND;default:return x.error(new _.Z("mapview-invalid-type",`Join type ${K} is not a valid option. Defaulting to round`)),j.AH.ROUND}}function be(K){switch(K){case M.g.BYTE:case M.g.UNSIGNED_BYTE:return 1;case M.g.SHORT:case M.g.UNSIGNED_SHORT:return 2;case M.g.FLOAT:case M.g.INT:case M.g.UNSIGNED_INT:return 4}}function je(K){switch(K){case M.Br.UNSIGNED_BYTE:return Uint8Array;case M.Br.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case M.Br.FLOAT:return Float32Array;default:return void x.error(new _.Z("webgl-utils",`Unable to handle type ${K}`))}}const xe=K=>{const le=new Map;for(const _e in K)for(const ye of K[_e])le.set(ye.name,ye.location);return le},We=K=>{const le={};for(const _e in K){const ye=K[_e];le[_e]=ye.length?ye[0].stride:0}return le},Te=new Map,Ke=(K,le)=>{if(!Te.has(K)){const _e=function Be(K){const le={};for(const _e in K){let Ee=0;le[_e]=K[_e].map(he=>{const Oe=new w.G(he.name,he.count,he.type,Ee,0,he.normalized||!1);return Ee+=he.count*be(he.type),Oe}),le[_e].forEach(he=>he.stride=Ee)}return le}(le),ye={strides:We(_e),bufferLayouts:_e,attributes:xe(le)};Te.set(K,ye)}return Te.get(K)}},81295:(ae,Q,t)=>{t.d(Q,{Vs:()=>w,aH:()=>V,t2:()=>M});var _=t(62208),h=t(5254);function M(x){if(!x)return 0;const{r:H,g:b,b:L,a:C}=x;return(0,h.Jz)(H*C,b*C,L*C,255*C)}function V(x){if(!x)return 0;const[H,b,L,C]=x;return(0,h.Jz)(H*(C/255),b*(C/255),L*(C/255),C)}function w(x,H,b=0){if((0,_.Wi)(H))return x[b+0]=0,x[b+1]=0,x[b+2]=0,void(x[b+3]=0);const{r:L,g:C,b:W,a:B}=H;x[b+0]=L*B/255,x[b+1]=C*B/255,x[b+2]=W*B/255,x[b+3]=B}},39406:(ae,Q,t)=>{var _,h,U,j,z,N,X,G,M;t.d(Q,{LW:()=>_,X:()=>z,jx:()=>U,mD:()=>G,mf:()=>N}),(M=_||(_={}))[M.FILL=0]="FILL",M[M.LINE=1]="LINE",M[M.MARKER=2]="MARKER",M[M.TEXT=3]="TEXT",M[M.LABEL=4]="LABEL",function(M){M[M.SUCCEEDED=0]="SUCCEEDED",M[M.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(h||(h={})),function(M){M[M.NONE=0]="NONE",M[M.MAP=1]="MAP",M[M.LABEL=2]="LABEL",M[M.LABEL_ALPHA=4]="LABEL_ALPHA",M[M.HITTEST=8]="HITTEST",M[M.HIGHLIGHT=16]="HIGHLIGHT",M[M.CLIP=32]="CLIP",M[M.DEBUG=64]="DEBUG",M[M.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(U||(U={})),function(M){M[M.SIZE=0]="SIZE",M[M.COLOR=1]="COLOR",M[M.OPACITY=2]="OPACITY",M[M.ROTATION=3]="ROTATION"}(j||(j={})),function(M){M[M.NONE=0]="NONE",M[M.OPACITY=1]="OPACITY",M[M.COLOR=2]="COLOR",M[M.ROTATION=4]="ROTATION",M[M.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",M[M.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",M[M.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",M[M.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(z||(z={})),function(M){M[M.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",M[M.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",M[M.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",M[M.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(N||(N={})),function(M){M[M.SPRITE=0]="SPRITE",M[M.GLYPH=1]="GLYPH"}(X||(X={})),function(M){M[M.DEFAULT=0]="DEFAULT",M[M.SIMPLE=1]="SIMPLE",M[M.DOT_DENSITY=2]="DOT_DENSITY",M[M.OUTLINE_FILL=3]="OUTLINE_FILL",M[M.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",M[M.HEATMAP=5]="HEATMAP",M[M.PIE_CHART=6]="PIE_CHART"}(G||(G={}))},18716:(ae,Q,t)=>{t.d(Q,{CA:()=>$,Gq:()=>ne,Xp:()=>A,a:()=>k,dk:()=>ie,hF:()=>S,jj:()=>D,jy:()=>v,m2:()=>R,mE:()=>J,qr:()=>se});var _=t(26584),h=t(40028),U=t(39406);const m=Object.keys(U.mD).filter(te=>"number"==typeof U.mD[te]).reduce((te,P)=>me(de({},te),{[P]:U.mD[P]}),{});function v(te){return te===U.mD.OUTLINE_FILL||te===U.mD.OUTLINE_FILL_SIMPLE}function A(te){return function c(te){return te===U.mD.SIMPLE||te===U.mD.OUTLINE_FILL_SIMPLE}(te.symbologyType)}function $(te){return v(te.symbologyType)}function D(te,P){switch(te){case U.LW.FILL:return ie.from(P);case U.LW.LINE:return k.from(P);case U.LW.MARKER:return J.from(P);case U.LW.TEXT:return se.from(P);case U.LW.LABEL:return ne.from(P);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${te}`)}}function S(te){switch(R.load(te).geometryType){case U.LW.MARKER:return new J(te);case U.LW.FILL:return new ie(te);case U.LW.LINE:return new k(te);case U.LW.TEXT:return new se(te);case U.LW.LABEL:return new ne(te)}}class R{constructor(P){this._data=0,this._data=P}static load(P){const T=this.shared;return T.data=P,T}set data(P){this._data=P}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(P){this.setBits(P,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(P){this.setBit(20,P)}get sdf(){return!!this.bit(11)}set sdf(P){this.setBit(11,P)}get pattern(){return!!this.bit(12)}set pattern(P){this.setBit(12,P)}get textureBinding(){return this.bits(0,8)}set textureBinding(P){this.setBits(P,0,8)}get symbologyType(){return this.bits(21,26)}set symbologyType(P){this.setBits(P,21,26)}get geometryTypeString(){switch(this.geometryType){case U.LW.FILL:return"fill";case U.LW.MARKER:return"marker";case U.LW.LINE:return"line";case U.LW.TEXT:return"text";case U.LW.LABEL:return"label";default:throw new _.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(P,T){const Y=1<<P;T?this._data|=Y:this._data&=~Y}bit(P){return(this._data&1<<P)>>P}setBits(P,T,Y){for(let ee=T,ue=0;ee<Y;ee++,ue++)this.setBit(ee,0!=(P&1<<ue))}bits(P,T){let Y=0;for(let ee=P,ue=0;ee<T;ee++,ue++)Y|=this.bit(ee)<<ue;return Y}hasVV(){return!1}setVV(P,T){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:U.mD[this.symbologyType],options:m,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(7&this.textureBinding)}}R.shared=new R(0);const O=te=>class extends te{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(P){this.setBit(16,P)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(P){this.setBit(17,P)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(P){this.setBit(18,P)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(P){this.setBit(19,P)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(P,T){super.setVV(P,T);const Y=function j(te,P,T){const Y=U.X.SIZE_FIELD_STOPS|U.X.SIZE_MINMAX_VALUE|U.X.SIZE_SCALE_STOPS|U.X.SIZE_UNIT_VALUE,ee=(P&(U.mf.FIELD_TARGETS_OUTLINE|U.mf.MINMAX_TARGETS_OUTLINE|U.mf.SCALE_TARGETS_OUTLINE|U.mf.UNIT_TARGETS_OUTLINE))>>>4;return te===U.LW.LINE&&T.isOutline||te===U.LW.FILL&&v(T.symbologyType)?Y&ee:Y&~ee}(this.geometryType,P,T)&P;this.vvSizeMinMaxValue=!!(Y&U.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(Y&U.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(Y&U.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(Y&U.X.SIZE_SCALE_STOPS)}},F=te=>class extends te{get vvRotation(){return 0!==this.bit(15)}set vvRotation(P){this.setBit(15,P)}hasVV(){return super.hasVV()||this.vvRotation}setVV(P,T){super.setVV(P,T),this.vvRotation=!T.isOutline&&!!(P&U.X.ROTATION)}},q=te=>class extends te{get vvColor(){return 0!==this.bit(13)}set vvColor(P){this.setBit(13,P)}hasVV(){return super.hasVV()||this.vvColor}setVV(P,T){super.setVV(P,T),this.vvColor=!T.isOutline&&!!(P&U.X.COLOR)}},re=te=>class extends te{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(P){this.setBit(14,P)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(P,T){super.setVV(P,T),this.vvOpacity=!T.isOutline&&!!(P&U.X.OPACITY)}};class ie extends(q(re(O(R)))){static load(P){const T=this.shared;return T.data=P,T}static from(P){const{symbologyType:T,vvFlags:Y}=P,ee=this.load(0);return ee.geometryType=U.LW.FILL,ee.symbologyType=T,T!==U.mD.DOT_DENSITY&&ee.setVV(Y,P),ee.data}getVariation(){return me(de({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}ie.shared=new ie(0);class J extends(q(re(F(O(R))))){static load(P){const T=this.shared;return T.data=P,T}static from(P){const{symbologyType:T,vvFlags:Y}=P,ee=this.load(0);return ee.geometryType=U.LW.MARKER,ee.symbologyType=T,T!==U.mD.HEATMAP&&ee.setVV(Y,P),ee.data}getVariation(){return me(de({},super.getVariation()),{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}J.shared=new J(0);class k extends(q(re(O(R)))){static load(P){const T=this.shared;return T.data=P,T}static from(P){const T=this.load(0);return T.geometryType=U.LW.LINE,T.symbologyType=P.symbologyType,T.setVV(P.vvFlags,P),T.data}getVariation(){return me(de({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}k.shared=new k(0);class se extends(q(re(F(O(R))))){static load(P){const T=this.shared;return T.data=P,T}static from(P){const T=this.load(0);return T.geometryType=U.LW.TEXT,T.symbologyType=P.symbologyType,T.setVV(P.vvFlags,P),T.data}getVariation(){return me(de({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}se.shared=new se(0);class ne extends(O(R)){static load(P){const T=this.shared;return T.data=P,T}static from(P){const T=this.load(0);return T.geometryType=U.LW.LABEL,T.symbologyType=P.symbologyType,T.setVV(P.vvFlags,P),T.mapAligned=(0,h.NS)(P.placement),T.data}getVariation(){return me(de({},super.getVariation()),{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}ne.shared=new ne(0)},7959:(ae,Q,t)=>{t.d(Q,{r:()=>B}),t(29132);var h=t(88879),j=(t(20383),t(54024)),z=t(23841),N=t(67831),X=t(99770),G=t(28093),M=t(7547),V=t(85095),w=t(36460),x=t(13459),H=t(57213),b=t(52068),L=t(94398),C=t(49672),W=t(55214);class B extends x.a{constructor(O){super(),this.graphicsLayer=O}visualizeIntersectionPoint(O,F){return this._visualizeSnappingIndicator(new C.Z({x:O.intersectionPoint[0],y:O.intersectionPoint[1],spatialReference:F.coordinateHelper.spatialReference}),a)}visualizePoint(O,F){return this._visualizeSnappingIndicator(new C.Z({x:O.point[0],y:O.point[1],spatialReference:F.coordinateHelper.spatialReference}),m)}visualizeLine(O,F){return this._visualizeSnappingIndicator(new W.Z({paths:[[O.lineStart,O.lineEnd]],spatialReference:F.coordinateHelper.spatialReference}),c)}visualizeParallelSign(O,F){return this._visualizeSnappingIndicator(new W.Z({paths:[[O.lineStart,O.lineEnd]],spatialReference:F.coordinateHelper.spatialReference}),v)}visualizeRightAngleQuad(O,F){return this._visualizeSnappingIndicator(new W.Z({paths:[[O.previousVertex,O.centerVertex,O.nextVertex]],spatialReference:F.coordinateHelper.spatialReference}),S(O))}_visualizeSnappingIndicator(O,F){const q=new h.Z({geometry:O,symbol:F});return this.graphicsLayer.add(q),(0,j.kB)(()=>{this.graphicsLayer.remove(q)})}}const E=V.O.main.toArray(),Z=[...V.O.main.toRgb(),100],a=new H.Z({outline:new b.Z({width:1.5,color:E}),size:15,color:[0,0,0,0]}),m=new H.Z({outline:{width:.5,color:[0,0,0,1]},size:10,color:E}),c=new L.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:M.kP.Butt,joinStyle:M.r4.Round,miterLimit:10,width:(0,z.Wz)(w.c.lineHintWidthTarget),color:E}]}}}),v=new L.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:E}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:E}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),A=R=>new L.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,z.Wz)(w.c.rightAngleHintSize),rotation:R,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,z.Wz)(w.c.rightAngleHintOutlineSize),color:E},{type:"CIMSolidFill",enable:!0,color:Z}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),$=A(45),D=A(225),S=(()=>{const R=(0,X.a)(),O=(0,X.a)(),F=(0,G.c)();return q=>((0,N.g)(R,q.centerVertex,q.previousVertex),(0,N.g)(O,q.nextVertex,q.previousVertex),(0,N.m)(F,R,O),F[2]<0?$:D)})()},13112:(ae,Q,t)=>{t.d(Q,{Z:()=>M});var _=t(17626),h=t(80542),U=t(77712),X=(t(85931),t(8314),t(90912),t(76898));let G=class extends h.r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const V=this.get("tileStore.tileScheme.spatialReference");return V&&V.toJSON()||null}};(0,_._)([(0,U.Cb)({readOnly:!0})],G.prototype,"supportsTileUpdates",null),(0,_._)([(0,U.Cb)({constructOnly:!0})],G.prototype,"remoteClient",void 0),(0,_._)([(0,U.Cb)({constructOnly:!0})],G.prototype,"service",void 0),(0,_._)([(0,U.Cb)()],G.prototype,"spatialReference",null),(0,_._)([(0,U.Cb)({constructOnly:!0})],G.prototype,"tileInfo",void 0),(0,_._)([(0,U.Cb)({constructOnly:!0})],G.prototype,"tileStore",void 0),G=(0,_._)([(0,X.j)("esri.views.2d.layers.features.processors.BaseProcessor")],G);const M=G},55376:(ae,Q,t)=>{function U(j,z,N,X){const G=j.clone(),M=1<<G.level,V=G.col+z,w=G.row+N;return X&&V<0?(G.col=V+M,G.world-=1):V>=M?(G.col=V-M,G.world+=1):G.col=V,G.row=w,G}t.d(Q,{M:()=>U}),t(81340)},95277:(ae,Q,t)=>{t.d(Q,{c:()=>U,t:()=>j});var _=t(62208),h=t(60507);function U(z,N=(0,h.RL)(z)){return"on-the-ground"!==N.mode&&!((0,_.Wi)(z.geometry)||!z.geometry.hasZ)}function j(z,N){let X=null;const G=z.events.on("grab-changed",M=>{(0,_.pC)(X)&&(X.remove(),X=null),"start"===M.action&&(X=z.disableDisplay()),N&&N(M)});return{remove(){(0,_.pC)(X)&&X.remove(),G.remove()}}}},50916:(ae,Q,t)=>{t.d(Q,{r:()=>x});var _=t(17626),h=t(26584),U=t(62208),j=t(32917),z=t(77712),M=(t(85931),t(8314),t(90912),t(76898)),V=t(41632),w=t(61779);const x=H=>{let b=class extends H{get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get dataLevelRange(){const L=this.tileInfo.lods;return this.levelRangeFromScaleRange(L[0].scale,L[L.length-1].scale)}get displayLevelRange(){const L=this.tileInfo.lods,B=this.levelRangeFromScaleRange(this.layer.minScale||L[0].scale,this.layer.maxScale||L[L.length-1].scale);return this.layer.maxScale&&B.maxLevel++,B}getTileUrl(L,C,W){return this.layer.getTileUrl(L,C,W)}_addTilingSchemeMatchPromise(){if((0,U.Wi)(this.fullExtent))return this.addResolvingPromise(Promise.reject(new h.Z("tilingscheme:extent-not-defined","This layer doesn't define a fullExtent.")));const L=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if((0,U.pC)(L))return this.addResolvingPromise(Promise.reject(L));const C=(0,j.N1)(()=>{var W,B;return null==(B=null==(W=this.view)?void 0:W.basemapTerrain)?void 0:B.tilingSchemeLocked}).then(()=>{const B=this._getTileInfoCompatibilityError(this.tileInfo,this.view.basemapTerrain.tilingScheme);if(B)throw B});this.addResolvingPromise(C)}_getTileInfoSupportError(L,C){const W=(0,w.er)(L,C,this.view.spatialReference,this.view.state.viewingMode);if(W){const B={layer:this.layer,error:W};let E;switch(W.name){case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":case"tilingscheme:local-unsupported-spatial-reference":E=new h.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",B);break;default:E=new h.Z("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",B)}return E}return null}_getTileInfoCompatibilityError(L,C){return C.compatibleWith(L)?null:new h.Z("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")}levelRangeFromScaleRange(L,C){const W={minLevel:0,maxLevel:1/0},B=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!B)return W;const E=B.levels[0],Z=a=>{const m=Math.log(E.scale/a)/Math.LN2;return.5-Math.abs(.5-m%1)<1e-9?Math.round(m):Math.ceil(m)};return null!=L&&L>0&&(W.minLevel=Math.max(0,Z(L))),null!=C&&C>0&&(W.maxLevel=Math.max(0,Z(C))),W}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return(0,_._)([(0,z.Cb)({readOnly:!0})],b.prototype,"imageFormatIsOpaque",null),(0,_._)([(0,z.Cb)({readOnly:!0})],b.prototype,"updating",void 0),(0,_._)([(0,z.Cb)(V.q)],b.prototype,"updatingProgress",void 0),(0,_._)([(0,z.Cb)(V.V)],b.prototype,"updatingProgressValue",void 0),(0,_._)([(0,z.Cb)()],b.prototype,"fullExtent",null),(0,_._)([(0,z.Cb)({readOnly:!0})],b.prototype,"isOpaque",null),(0,_._)([(0,z.Cb)({readOnly:!0})],b.prototype,"dataLevelRange",null),(0,_._)([(0,z.Cb)({readOnly:!0})],b.prototype,"displayLevelRange",null),(0,_._)([(0,z.Cb)()],b.prototype,"layer",void 0),(0,_._)([(0,z.Cb)()],b.prototype,"tileInfo",void 0),b=(0,_._)([(0,M.j)("esri.views.3d.layers.TiledLayerView3D")],b),b}},3493:(ae,Q,t)=>{t.d(Q,{Z:()=>X,s:()=>N});var _=t(58817),h=t(62208),U=t(97445);const j={setAttribute(){},rollback(){},commit(){}};var z,b;function N(b,L){const C=L.attributes[b.objectIdField],W=b.sessions.get(C);if(W)return W;const B=(0,_.d9)(L.attributes),E=new Set;if(null==C)return j;const Z=b.attributeOverrides.createInteractiveEditSession(C),a=new Map;let c=z.EDITING;const v={setAttribute(A,$){if(c!==z.EDITING)return;const D=b.fieldsIndex.get(A);if((0,h.Wi)(D))return;const S=b.attributeStorageInfo.findIndex(F=>F.name===D.name);if(S<0)return;Z.set(S,$);const R=b.attributeStorageInfo[S];let O=!1;E.add(A),b.forEachNode((F,q)=>{const re=((A,$)=>{const D=a.get(A);if(null==D){const S=$.indexOf(C);return a.set(A,S),S}return D})(F,q);if(-1===re)return;const ie=b.getAttributeData(F.index);if(ie){const J=ie[R.name];J&&(J[re]=$,b.setAttributeData(F.index,ie,L),O=!0)}}),O&&b.clearMemCache()},rollback(){if(c===z.EDITING){for(const A of E)this.setAttribute(A,B[A]);Z.rollback(),c=z.ROLLED_BACK,b.sessions.delete(C)}},commit(){c===z.EDITING&&(Z.commit(),c=z.COMMITTED,b.sessions.delete(C))}};return b.sessions.set(C,v),v}function X(b,L){const C=function G(b,L){const C=L.edits.updateFeatures;if(!C||0===C.length)return new H;const W=function w(b){const L=new Set;if(!b.updatedFeatures)return L;for(const C of b.updatedFeatures)null!=C.objectId&&null==C.error&&L.add(C.objectId);return L}(L),B=new H,E=new Map;for(let c=0;c<b.attributeStorageInfo.length;c++)E.set(b.attributeStorageInfo[c].name,c);const Z=b.fieldsIndex,a=b.objectIdField,m=C.filter(c=>{const v=(0,U.g)(Z,c.attributes,a);return W.has(v)});return b.forEachNode((c,v)=>{const A=new Set(v);for(const $ of m){const D=(0,U.g)(Z,$.attributes,a);if(!A.has(D))continue;const S=v.indexOf(D);for(const R in $.attributes){const O=b.fieldsIndex.normalizeFieldName(R);M(B,c.index,O).push({featureIndex:S,featureId:D,value:$.attributes[R]})}}}),B}(b,L);if(0===C.size)return;const W=new Map;for(let E=0;E<b.attributeStorageInfo.length;E++)W.set(b.attributeStorageInfo[E].name,E);let B=!1;C.forEach((E,Z)=>{const a=b.getAttributeData(Z);let m=!1;E.forEach((c,v)=>{const A=(0,h.pC)(a)?a[v]:null,$=W.get(v);for(const{featureIndex:D,value:S,featureId:R}of c)A&&(A[D]=S,m=!0,B=!0),b.attributeOverrides.updateValue(R,$,S)}),m&&b.setAttributeData(Z,a,null)}),B&&b.clearMemCache()}function M(b,L,C){const W=function V(b,L){const C=b.get(L);if(C)return C;const W=new x;return b.set(L,W),W}(b,L),B=W.get(C);if(B)return B;const E=new Array;return W.set(C,E),E}(b=z||(z={}))[b.EDITING=0]="EDITING",b[b.ROLLED_BACK=1]="ROLLED_BACK",b[b.COMMITTED=2]="COMMITTED";const x=Map,H=Map},40465:(ae,Q,t)=>{t.d(Q,{i:()=>H});var _=t(15861),h=t(17626),U=t(26584),j=t(62208),V=(t(63290),t(90912),t(85931),t(8314),t(82255),t(76898)),w=t(36630),x=t(10023);const H=b=>{let L=class extends b{_validateFetchPopupFeatures(C){const{layer:W}=this,{popupEnabled:B}=W;return B?(0,x.V)(W,C)?void 0:new U.Z("scenelayerview3d:fetchPopupFeatures","Layer does not define a popup template",{layer:W}):new U.Z("scenelayerview3d:fetchPopupFeatures","Popups are disabled",{layer:W})}prepareFetchPopupFeatures(C){return(0,_.Z)(function*(){})()}fetchPopupFeatures(C,W){var B=this;return(0,_.Z)(function*(){const E=B._validateFetchPopupFeatures(W);if(E)throw E;const Z=(0,j.pC)(W)?W.clientGraphics:null;if(!Z||0===Z.length)return[];const a="scene"===B.layer.type&&(0,j.pC)(B.layer.associatedLayer)?B.layer.associatedLayer:B.layer,m=(0,w.Lk)(B.layer.fieldsIndex,yield(0,x.e)(a,(0,x.V)(B.layer,W)));yield B.prepareFetchPopupFeatures(m);const c=new Set,v=[],A=[];for(const $ of Z)(0,w.Gm)(m,$,c)?A.push($):v.push($);return 0===A.length?v:B.whenGraphicAttributes(A,[...c]).catch(()=>A).then($=>v.concat($))})()}};return L=(0,h._)([(0,V.j)("esri.views.3d.layers.support.PopupSceneLayerView")],L),L}},57610:(ae,Q,t)=>{t.d(Q,{K:()=>Z});var _=t(15861),h=t(17626),U=t(14517),j=t(63290),z=t(36082),N=t(77712),X=t(76898),G=t(819);const M=c=>{let v=class extends c{constructor(){super(...arguments),this._numUpdating=0,this.asyncUpdateState=new Map}get updating(){return this._numUpdating>0}autoUpdateAsync(A,$){return function w(c,v){const $=()=>{if(!S||R)return v();S.clear(),R=!0;const O=(0,z.LJ)(S,v);return R=!1,O};let S=new G.M(()=>{S&&!R&&c($)}),R=!1;return c($),{remove:()=>{S&&(S.destroy(),S=null)}}}(D=>this._updateAsync(A,D),$)}_updateAsync(A,$){var D=this;return(0,_.Z)(function*(){if(!D._startAsyncUpdate(A)){try{const S=yield $();D._set(A,S)}catch(S){j.Z.getLogger(D.declaredClass).warn(`Async update of "${String(A)}" failed. Async update functions should not throw exceptions.`)}D._endAsyncUpdate(A)&&D._updateAsync(A,$)}})()}_startAsyncUpdate(A){var D;const $=null!=(D=this.asyncUpdateState.get(A))?D:V.None;return $&V.Updating?(this.asyncUpdateState.set(A,$|V.Invalidated),!0):(++this._numUpdating,this.asyncUpdateState.set(A,$|V.Updating),!1)}_endAsyncUpdate(A){var D;--this._numUpdating;const $=(null!=(D=this.asyncUpdateState.get(A))?D:V.None)&~V.Updating;return $&V.Invalidated?(this.asyncUpdateState.set(A,$&~V.Invalidated),!0):(this.asyncUpdateState.set(A,$),!1)}};return(0,h._)([(0,N.Cb)({readOnly:!0})],v.prototype,"updating",null),(0,h._)([(0,N.Cb)()],v.prototype,"_numUpdating",void 0),v=(0,h._)([(0,X.j)("esri.core.AsyncUpdate")],v),v};var V,c;(c=V||(V={}))[c.None=0]="None",c[c.Updating=1]="Updating",c[c.Invalidated=2]="Invalidated";let x=class extends(M(U.Z)){};x=(0,h._)([(0,X.j)("esri.core.AsyncUpdate")],x);var H=t(80542),b=t(62208),B=(t(85931),t(8314),t(90912),t(36630));const E=j.Z.getLogger("esri.views.3d.layers.support.SceneLayerViewRequiredFields");let Z=class extends(M(H.r)){constructor(c){super(c)}get requiredFields(){const{layerView:{layer:{fieldsIndex:c},definitionExpressionFields:v},rendererFields:A,labelingFields:$,viewFilterFields:D}=this;return(0,B.Q0)(c,[...(0,b.Pt)(v,[]),...(0,b.Pt)(A,[]),...(0,b.Pt)($,[]),...(0,b.Pt)(D,[])])}initialize(){this.layer=this.layerView.layer,this.handles.add([this.autoUpdateAsync("rendererFields",()=>{const{fieldsIndex:v,renderer:A}=this.layer;return A?a($=>A.collectRequiredFields($,v)):null}),this.autoUpdateAsync("labelingFields",()=>{const{layer:v}=this;return v.labelsVisible?a(A=>(0,B.Mu)(A,v)):null}),this.autoUpdateAsync("viewFilterFields",()=>{const{layer:v,filter:A}=this.layerView;return a($=>(0,B.Ll)($,v,A))})])}};function a(c){return m.apply(this,arguments)}function m(){return m=(0,_.Z)(function*(c){const v=new Set;try{return yield c(v),Array.from(v).sort()}catch(A){return E.error(A),null}}),m.apply(this,arguments)}(0,h._)([(0,N.Cb)()],Z.prototype,"layerView",void 0),(0,h._)([(0,N.Cb)()],Z.prototype,"layer",void 0),(0,h._)([(0,N.Cb)()],Z.prototype,"requiredFields",null),(0,h._)([(0,N.Cb)()],Z.prototype,"rendererFields",void 0),(0,h._)([(0,N.Cb)()],Z.prototype,"labelingFields",void 0),(0,h._)([(0,N.Cb)()],Z.prototype,"viewFilterFields",void 0),Z=(0,h._)([(0,X.j)("esri.views.3d.layers.support.SceneLayerViewRequiredFields")],Z)},67966:(ae,Q,t)=>{t.d(Q,{v:()=>h});var _=t(36630);function h(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:U,layer:{fieldsIndex:j},requiredFields:z}=this;return(0,_.Q0)(j,U.outFields?[...(0,_.Lk)(j,U.outFields),...z]:z)}}}}},95925:(ae,Q,t)=>{t.d(Q,{Lp:()=>N,P9:()=>z,Yq:()=>M});var _=t(15861),h=t(62208),U=t(10699),j=t(32917);function z(V,w,x){const H=G(V,w);V.view.activeTool=H;let b=(0,U.fu)(x,()=>X(V,w));return(0,U.vr)(function(){var L=(0,_.Z)(function*(C){yield(0,j.N1)(()=>!H.active,C),b=(0,h.hw)(b),X(V,w)});return function(C){return L.apply(this,arguments)}}(),x)}function N(V,w){return(0,j.YP)(()=>V.interactive,()=>X(V,w),j.tX)}function X(V,w){V.interactive?G(V,w):M(V)}function G(V,w){M(V);const{view:x,analysis:H}=V,b=new w({view:x,analysis:H,analysisViewData:V});return V.tool=b,x.tools.add(b),b}function M(V){const{view:w,tool:x}=V;(0,h.Wi)(x)||(w.tools.remove(x),V.tool=null)}},85095:(ae,Q,t)=>{t.d(Q,{O:()=>h,X:()=>V});var _=t(91558);const h={main:new _.Z([255,127,0]),selected:new _.Z([255,255,255]),outline:new _.Z([0,0,0,.5]),selectedOutline:new _.Z([255,255,255]),hoverOutline:new _.Z([255,255,255]),secondary:new _.Z([255,255,255]),secondaryOutline:new _.Z([100,100,100]),transparent:new _.Z([0,0,0,0])};function U(w,x){if(x)for(const H in x)w[H]=x[H]}class j{constructor(x){this.size=8,this.hoverSize=10,this.color=h.main,this.hoverColor=h.main,this.outlineColor=h.outline,this.hoverOutlineColor=h.hoverOutline,U(this,x)}}class z{constructor(x){this.color=h.secondary,this.hoverColor=h.main,U(this,x)}}class N{constructor(x){this.color=h.transparent,this.hoverColor=h.transparent,this.outlineColor=h.main,this.hoverOutlineColor=h.main,this.stagedColor=h.transparent,this.stagedOutlineColor=h.secondary,U(this,x)}}class X{constructor(x){this.vertex=new j,this.midpoint=new j({color:h.secondary,outlineColor:h.secondaryOutline,size:6}),this.selected=new j({color:h.selected,hoverColor:h.selected,hoverOutlineColor:h.hoverOutline}),U(this,x)}}class G{constructor(x){this.center=new j({color:h.secondaryOutline}),this.fill=new N,this.line=new z,this.vertex=new j({color:h.selected,outlineColor:h.main,hoverColor:h.selected,hoverOutlineColor:h.secondaryOutline}),U(this,x)}}const V=new class M{constructor(x){this.reshapeGraphics=new X,this.transformGraphics=new G,U(this,x)}}},22712:(ae,Q,t)=>{t.d(Q,{f:()=>M});var _=t(17626),h=t(32917),U=t(77712),X=(t(85931),t(8314),t(90912),t(76898)),G=t(22944);let M=class extends G.m{constructor(V){super(V)}initialize(){this.own((0,h.YP)(()=>this.analysisViewData.visible,V=>this.visible=V,h.tX))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};(0,_._)([(0,U.Cb)({constructOnly:!0})],M.prototype,"analysis",void 0),(0,_._)([(0,U.Cb)()],M.prototype,"analysisViewData",void 0),M=(0,_._)([(0,X.j)("esri.views.interactive.AnalysisToolBase")],M)},70211:(ae,Q,t)=>{t.d(Q,{x:()=>j});var _=t(33351),h=t(97979),U=t(19038);class j extends h.a{constructor(N){super(me(de({},N),{constraint:new _.Hk(N.coordinateHelper,N.targetPoint)}))}get hints(){return[new U.n(this.targetPoint,this.elevationInfo)]}}},9218:(ae,Q,t)=>{t.d(Q,{X:()=>U});var _=t(75897),h=t(70211);function U(j,z,N){switch(j.type){case"edge":return new _.L({coordinateHelper:z,edgeStart:z.pointToVector(j.start),edgeEnd:z.pointToVector(j.end),targetPoint:z.pointToVector(j.target),objectId:j.objectId,elevationInfo:N});case"vertex":return new h.x({coordinateHelper:z,targetPoint:z.pointToVector(j.target),objectId:j.objectId,elevationInfo:N})}}},78465:(ae,Q,t)=>{t.d(Q,{Z:()=>W});var _=t(15861),h=t(17626),U=t(63290),j=t(62208),z=t(32917),N=t(77712),b=(t(85931),t(8314),t(90912),t(44648),t(36082),t(383),t(23025),t(55915)),L=t(45611);const C=U.Z.getLogger("esri.views.layers.SceneLayerView");class W extends L.Z{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(E){throw new Error("Not implemented")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){const E=this.layer.filter;if((0,j.Wi)(E)||E.geometries.length<1)return null;const Z=this._geometryEngine;if((0,j.Wi)(Z)||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return null;try{let a=Z.simplify(E.geometries.getItemAt(0));const m=a.spatialReference;for(let c=1;c<E.geometries.length;c++){let v=Z.simplify(E.geometries.getItemAt(c));v.spatialReference.equals(m)||(v=(0,b.iV)(v,m)),a=Z.union(a,v)}return{spatialRelationship:E.spatialRelationship,geometry:a}}catch(a){return C.warnOncePerTick("Failed to merge scene filter geometries. Layer mask will be ignored."),null}}get _filterNeedsProjectionEngine(){const E=this.layer.filter;if((0,j.Wi)(E)||E.geometries.length<=1)return!1;const Z=E.geometries.getItemAt(0).spatialReference;return E.geometries.some(({spatialReference:a})=>!a.equals(Z)&&!(0,b.Up)(a,Z))}get layerFilterUpdating(){return(0,j.pC)(this.layer.filter)&&this.layer.filter.geometries.length&&(!this._geometryEngine||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)}initialize(){var E=this;(0,z.N1)(()=>!this._geometryEngine&&(0,j.pC)(this.layer.filter)&&this.layer.filter.geometries.length).then((0,_.Z)(function*(){return E._geometryEngine=yield Promise.all([t.e(4918),t.e(4766)]).then(t.bind(t,44766))})),this._projectionEngineLoaded=(0,b.kR)(),(0,z.N1)(()=>!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine).then((0,_.Z)(function*(){yield(0,b.zD)(),E._projectionEngineLoaded=!0}))}highlight(E){throw new Error("Not implemented")}queryFeatures(E,Z){throw new Error("Not implemented")}queryObjectIds(E,Z){throw new Error("Not implemented")}queryFeatureCount(E,Z){throw new Error("Not implemented")}createQuery(){throw new Error("Not implemented")}queryExtent(E,Z){throw new Error("Not implemented")}}(0,h._)([(0,N.Cb)()],W.prototype,"layer",void 0),(0,h._)([(0,N.Cb)()],W.prototype,"availableFields",null),(0,h._)([(0,N.Cb)()],W.prototype,"maximumNumberOfFeatures",null),(0,h._)([(0,N.Cb)({readOnly:!0})],W.prototype,"maximumNumberOfFeaturesExceeded",null),(0,h._)([(0,N.Cb)()],W.prototype,"filter",void 0),(0,h._)([(0,N.Cb)({readOnly:!0})],W.prototype,"layerFilter",null),(0,h._)([(0,N.Cb)()],W.prototype,"_geometryEngine",void 0),(0,h._)([(0,N.Cb)()],W.prototype,"_projectionEngineLoaded",void 0),(0,h._)([(0,N.Cb)()],W.prototype,"_filterNeedsProjectionEngine",null),(0,h._)([(0,N.Cb)()],W.prototype,"layerFilterUpdating",null)},73187:(ae,Q,t)=>{t.d(Q,{q:()=>W});var _=t(17626),h=t(91558),U=t(88879),j=t(14517),z=t(21286),N=t(62208),X=t(77712),w=(t(85931),t(8314),t(90912),t(76898)),x=t(69852),H=t(88493),b=t(35540),L=t(21716);const C=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let W=class extends j.Z{constructor(B){super(B),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=C.map(B=>new H.Z({color:[B[0],B[1],B[2],.6],outline:{color:"black",width:1}})),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(B){this._enabled!==B&&(this._enabled=B,this.update())}update(){if(!this._enabled)return void this.clear();const E=this.getTiles(),Z=new Array,a=new Set(this._labels.keys());E.forEach((c,v)=>{const A=c.lij.toString();a.delete(A);const $=c.lij[0],D=c.geometry;if(this.enablePolygons&&!this._polygons.has(A)){const S=new U.Z({geometry:D,symbol:this._symbols[$%this._symbols.length]});this._polygons.set(A,S),Z.push(S)}if(this.enableLabels){const S=(c=>{if((0,N.pC)(c.label))return c.label;let v=c.lij.toString();return(0,N.pC)(c.loadPriority)&&(v+=` (${c.loadPriority})`),v})(c),R=v/(E.length-1),O=(0,z.t7)(0,200,R),F=(0,z.t7)(20,6,R)/.75,q=(0,N.pC)(c.loadPriority)&&c.loadPriority>=E.length,re=new h.Z([O,q?0:O,q?0:O]),ie="3d"===this.view.type?()=>new x.Z({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new L.Z({text:S,halo:{color:"white",size:1/.75},material:{color:re},size:F})]}):()=>new b.Z({text:S,haloColor:"white",haloSize:1/.75,color:re,size:F});if(this._labels.has(A)){const J=this._labels.get(A),k=ie();((0,N.Wi)(J.symbol)||JSON.stringify(k)!==JSON.stringify(J.symbol))&&(J.symbol=k)}else{const J=new U.Z({geometry:D.extent.center,symbol:ie()});this._labels.set(A,J),Z.push(J)}}});const m=new Array;a.forEach(c=>{this._polygons.has(c)&&(m.push(this._polygons.get(c)),this._polygons.delete(c)),this._labels.has(c)&&(m.push(this._labels.get(c)),this._labels.delete(c))}),this.view.graphics.removeMany(m),this.view.graphics.addMany(Z)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};(0,_._)([(0,X.Cb)({constructOnly:!0})],W.prototype,"view",void 0),(0,_._)([(0,X.Cb)({readOnly:!0})],W.prototype,"updating",void 0),(0,_._)([(0,X.Cb)()],W.prototype,"enabled",null),W=(0,_._)([(0,w.j)("esri.views.support.TileTreeDebugger")],W)}}]);