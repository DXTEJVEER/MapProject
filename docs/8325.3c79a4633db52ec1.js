"use strict";(self.webpackChunkbeachSports=self.webpackChunkbeachSports||[]).push([[8325],{19702:(D,E,s)=>{s.d(E,{A:()=>d});var i=s(15861),o=s(17626),c=s(54024),l=s(10699),v=s(32917),h=s(77712),O=(s(85931),s(8314),s(90912),s(76898)),p=s(36947);const d=M=>{let t=class extends M{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(a){super.postscript(a),(0,p.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var a=this;return(0,i.Z)(function*(){const e=new AbortController,n=e.signal;a.handles.add((0,c.kB)(()=>e.abort())),yield(0,v.N1)(()=>{var u;return null==(u=a.view.defaultsFromMap)?void 0:u.heightModelInfoReady},n),(0,l.k_)(n);const r=(0,p.Wt)(a.layer,a.view.heightModelInfo,a.supportsHeightUnitConversion);if(r)throw r})()}canResume(){const a=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!a||!a.minScale||!a.maxScale||a.minScale>=a.maxScale)}getSuspendInfo(){const a=super.getSuspendInfo(),e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return e&&e.minScale&&e.maxScale&&e.minScale<e.maxScale&&(a.outsideScaleRange=!0),a}};return(0,o._)([(0,h.Cb)()],t.prototype,"view",void 0),(0,o._)([(0,h.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,o._)([(0,O.j)("esri.views.3d.layers.LayerView3D")],t),t}},68325:(D,E,s)=>{s.r(E),s.d(E,{default:()=>M});var i=s(15861),o=s(17626),c=s(26584),l=s(62208),v=s(10699),h=s(32917),y=s(77712),P=s(76898),_=s(19702),O=s(45611);const p="analysis-view-handles";let d=class extends((0,_.A)(O.Z)){constructor(t){super(t),this.type="line-of-sight-3d",this._analysisModules={"line-of-sight":null}}initialize(){this.handles.add((0,h.YP)(()=>this.layer.analysis,t=>{this._destroyAnalysisView(),(0,l.pC)(t)&&this._createAnalysisView(t)},h.tX),p)}destroy(){this.handles.remove(p),this._destroyAnalysisView()}whenAnalysisView(){var t=this;return(0,i.Z)(function*(){if((0,l.pC)(t.analysisView))return t.analysisView;if((0,l.pC)(t._createAnalysisViewTask))return t._createAnalysisViewTask.promise;throw new c.Z("layerview:no-analysisview-for-analysis","The analysis has not been set on the LineOfSightLayer of this layer view")})()}isUpdating(){return(0,l.pC)(this._createAnalysisViewTask)||(0,l.pC)(this.analysisView)&&this.analysisView.updating}_createAnalysisView(t){var a=this;const e=(0,v.vr)(function(){var n=(0,i.Z)(function*(r){return a.analysisView=yield a._createAnalysisViewPromise(t,r),a._createAnalysisViewTask===e&&(a._createAnalysisViewTask=null),a.analysisView});return function(r){return n.apply(this,arguments)}}());this._createAnalysisViewTask=e}_destroyAnalysisView(){this.analysisView=(0,l.SC)(this.analysisView),this._createAnalysisViewTask=(0,l.IM)(this._createAnalysisViewTask)}_createAnalysisViewPromise(t,a){var e=this;return(0,i.Z)(function*(){const n=t.type;let r=e._analysisModules[n];if((0,l.Wi)(r)){const C=yield e._loadAnalysisModule(n);e._analysisModules[n]=C,r=C}const u=new r.default({analysis:t,view:e.view,parent:e});if(yield u.when(),(0,v.Hc)(a))throw u.destroy(),new c.Z("layerview:no-analysisview-for-analysis","The analysis has not been added to the LineOfSightLayer of this layer view",{analysis:t});return u})()}_loadAnalysisModule(t){return"line-of-sight"===t?Promise.all([s.e(4735),s.e(1668),s.e(3792),s.e(8592),s.e(9024)]).then(s.bind(s,99024)):null}};(0,o._)([(0,y.Cb)()],d.prototype,"type",void 0),(0,o._)([(0,y.Cb)()],d.prototype,"layer",void 0),(0,o._)([(0,y.Cb)()],d.prototype,"analysisView",void 0),(0,o._)([(0,y.Cb)()],d.prototype,"_createAnalysisViewTask",void 0),d=(0,o._)([(0,P.j)("esri.views.3d.layers.LineOfSightLayerView3D")],d);const M=d},45611:(D,E,s)=>{s.d(E,{Z:()=>a});var i=s(17626),o=s(14517),c=s(61885),l=s(80542),v=s(61996),h=s(63290),y=s(62208),P=s(60330),_=s(77712),M=(s(85931),s(8314),s(90912),s(76898));let t=class extends((0,l.p)((0,v.IG)((0,P.v)(c.Z.EventedMixin(o.Z))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if("layerview:create-error"!==e.name){const n=this.layer&&this.layer.id||"no id",r=this.layer&&this.layer.title||"no title";h.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${n}')`,e)}})}get fullOpacity(){return(0,y.Pt)(this.get("layer.opacity"),1)*(0,y.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null==(e=this.layer)?void 0:e.legendEnabled)}get updating(){var e;return!(!(null==(e=this.updatingHandles)?void 0:e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var e;return!0===(null==(e=this.layer)?void 0:e.visible)}set visible(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")}canResume(){var e,n,r;return this.visible&&(null==(e=this.layer)?void 0:e.loaded)&&!(null==(n=this.parent)?void 0:n.suspended)&&(null==(r=this.view)?void 0:r.ready)||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,i._)([(0,_.Cb)()],t.prototype,"fullOpacity",null),(0,i._)([(0,_.Cb)()],t.prototype,"layer",void 0),(0,i._)([(0,_.Cb)()],t.prototype,"parent",void 0),(0,i._)([(0,_.Cb)({readOnly:!0})],t.prototype,"suspended",null),(0,i._)([(0,_.Cb)({readOnly:!0})],t.prototype,"suspendInfo",null),(0,i._)([(0,_.Cb)({readOnly:!0})],t.prototype,"legendEnabled",null),(0,i._)([(0,_.Cb)({type:Boolean,readOnly:!0})],t.prototype,"updating",null),(0,i._)([(0,_.Cb)({readOnly:!0})],t.prototype,"updatingProgress",null),(0,i._)([(0,_.Cb)()],t.prototype,"visible",null),(0,i._)([(0,_.Cb)()],t.prototype,"view",void 0),t=(0,i._)([(0,M.j)("esri.views.layers.LayerView")],t);const a=t}}]);