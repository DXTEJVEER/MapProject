"use strict";var Ie=Object.defineProperty,de=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,ue=(w,D,o)=>D in w?Ie(w,D,{enumerable:!0,configurable:!0,writable:!0,value:o}):w[D]=o,ne=(w,D)=>{for(var o in D||(D={}))xe.call(D,o)&&ue(w,o,D[o]);if(de)for(var o of de(D))Ee.call(D,o)&&ue(w,o,D[o]);return w};(self.webpackChunkbeachSports=self.webpackChunkbeachSports||[]).push([[4896],{36592:(w,D,o)=>{o.d(D,{Q:()=>U});var O=o(85931),K=o(62208),X=o(77029),b=o(14259);class U{constructor(e=9,n){this.compareMinX=Y,this.compareMinY=f,this._toBBox=i=>i,this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}destroy(){this.clear(),$.prune(),z.prune(),R.prune(),H.prune()}all(e){this._all(this.data,e)}search(e,n){let i=this.data;const l=this._toBBox;if(Q(e,i))for($.clear();i;){for(let d=0,c=i.children.length;d<c;d++){const _=i.children[d],E=i.leaf?l(_):_;Q(e,E)&&(i.leaf?n(_):S(e,E)?this._all(_,n):$.push(_))}i=$.pop()}}collides(e){let n=this.data;const i=this._toBBox;if(!Q(e,n))return!1;for($.clear();n;){for(let l=0,d=n.children.length;l<d;l++){const c=n.children[l],_=n.leaf?i(c):c;if(Q(e,_)){if(n.leaf||S(e,_))return!0;$.push(c)}}n=$.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let i=0,l=e.length;i<l;i++)this.insert(e[i]);return this}let n=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=new k([]),this}remove(e){var E;if(!e)return this;let n,i=this.data,l=null,d=0,c=!1;const _=this._toBBox(e);for(R.clear(),H.clear();i||R.length>0;){if(i||(i=(0,K.j0)(R.pop()),l=R.data[R.length-1],d=null!=(E=H.pop())?E:0,c=!0),i.leaf&&(n=(0,O.cq)(i.children,e,i.children.length,i.indexHint),-1!==n))return i.children.splice(n,1),R.push(i),this._condense(R),this;c||i.leaf||!S(i,_)?l?(d++,i=l.children[d],c=!1):i=null:(R.push(i),H.push(d),d=0,l=i,i=i.children[0])}return this}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){var l;let i=e;for(z.clear();i;){if(!0===i.leaf)for(const d of i.children)n(d);else z.pushArray(i.children);i=null!=(l=z.pop())?l:null}}_build(e,n,i,l){const d=i-n+1;let c=this._maxEntries;if(d<=c){const T=new k(e.slice(n,i+1));return v(T,this._toBBox),T}l||(l=Math.ceil(Math.log(d)/Math.log(c)),c=Math.ceil(d/c**(l-1)));const _=new q([]);_.height=l;const E=Math.ceil(d/c),j=E*Math.ceil(Math.sqrt(c));ie(e,n,i,j,this.compareMinX);for(let T=n;T<=i;T+=j){const Z=Math.min(T+j-1,i);ie(e,T,Z,E,this.compareMinY);for(let G=T;G<=Z;G+=E){const oe=Math.min(G+E-1,Z);_.children.push(this._build(e,G,oe,l-1))}}return v(_,this._toBBox),_}_chooseSubtree(e,n,i,l){for(;l.push(n),!0!==n.leaf&&l.length-1!==i;){let d,c=1/0,_=1/0;for(let E=0,j=n.children.length;E<j;E++){const T=n.children[E],Z=y(T),G=g(e,T)-Z;G<_?(_=G,c=Z<c?Z:c,d=T):G===_&&Z<c&&(c=Z,d=T)}n=d||n.children[0]}return n}_insert(e,n,i){const d=i?e:(0,this._toBBox)(e);R.clear();const c=this._chooseSubtree(d,this.data,n,R);for(c.children.push(e),W(c,d);n>=0&&R.data[n].children.length>this._maxEntries;)this._split(R,n),n--;this._adjustParentBBoxes(d,R,n)}_split(e,n){const i=e.data[n],l=i.children.length,d=this._minEntries;this._chooseSplitAxis(i,d,l);const c=this._chooseSplitIndex(i,d,l);if(!c)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const _=i.children.splice(c,i.children.length-c),E=i.leaf?new k(_):new q(_);E.height=i.height,v(i,this._toBBox),v(E,this._toBBox),n?e.data[n-1].children.push(E):this._splitRoot(i,E)}_splitRoot(e,n){this.data=new q([e,n]),this.data.height=e.height+1,v(this.data,this._toBBox)}_chooseSplitIndex(e,n,i){let l,d,c;l=d=1/0;for(let _=n;_<=i-n;_++){const E=C(e,0,_,this._toBBox),j=C(e,_,i,this._toBBox),T=A(E,j),Z=y(E)+y(j);T<l?(l=T,c=_,d=Z<d?Z:d):T===l&&Z<d&&(d=Z,c=_)}return c}_chooseSplitAxis(e,n,i){const l=e.leaf?this.compareMinX:Y,d=e.leaf?this.compareMinY:f;this._allDistMargin(e,n,i,l)<this._allDistMargin(e,n,i,d)&&e.children.sort(l)}_allDistMargin(e,n,i,l){e.children.sort(l);const d=this._toBBox,c=C(e,0,n,d),_=C(e,i-n,i,d);let E=a(c)+a(_);for(let j=n;j<i-n;j++){const T=e.children[j];W(c,e.leaf?d(T):T),E+=a(c)}for(let j=i-n-1;j>=n;j--){const T=e.children[j];W(_,e.leaf?d(T):T),E+=a(_)}return E}_adjustParentBBoxes(e,n,i){for(let l=i;l>=0;l--)W(n.data[l],e)}_condense(e){for(let n=e.length-1;n>=0;n--){const i=e.data[n];if(0===i.children.length)if(n>0){const l=e.data[n-1],d=l.children;d.splice((0,O.cq)(d,i,d.length,l.indexHint),1)}else this.clear();else v(i,this._toBBox)}}_initFormat(e){const n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(e[0])),this.compareMinY=new Function("a","b",n.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function v(u,e){C(u,0,u.children.length,e,u)}function C(u,e,n,i,l){l||(l=new k([])),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let d,c=e;c<n;c++)d=u.children[c],W(l,u.leaf?i(d):d);return l}function W(u,e){u.minX=Math.min(u.minX,e.minX),u.minY=Math.min(u.minY,e.minY),u.maxX=Math.max(u.maxX,e.maxX),u.maxY=Math.max(u.maxY,e.maxY)}function Y(u,e){return u.minX-e.minX}function f(u,e){return u.minY-e.minY}function y(u){return(u.maxX-u.minX)*(u.maxY-u.minY)}function a(u){return u.maxX-u.minX+(u.maxY-u.minY)}function g(u,e){return(Math.max(e.maxX,u.maxX)-Math.min(e.minX,u.minX))*(Math.max(e.maxY,u.maxY)-Math.min(e.minY,u.minY))}function A(u,e){const n=Math.max(u.minX,e.minX),i=Math.max(u.minY,e.minY),l=Math.min(u.maxX,e.maxX),d=Math.min(u.maxY,e.maxY);return Math.max(0,l-n)*Math.max(0,d-i)}function S(u,e){return u.minX<=e.minX&&u.minY<=e.minY&&e.maxX<=u.maxX&&e.maxY<=u.maxY}function Q(u,e){return e.minX<=u.maxX&&e.minY<=u.maxY&&e.maxX>=u.minX&&e.maxY>=u.minY}function ie(u,e,n,i,l){const d=[e,n];for(;d.length;){const c=(0,K.j0)(d.pop()),_=(0,K.j0)(d.pop());if(c-_<=i)continue;const E=_+Math.ceil((c-_)/i/2)*i;(0,b.q)(u,E,_,c,l),d.push(_,E,E,c)}}const $=new X.Z,z=new X.Z,R=new X.Z,H=new X.Z({deallocator:void 0});class re extends class se{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new O.SO}}class k extends re{constructor(e){super(),this.children=e,this.leaf=!0}}class q extends re{constructor(e){super(),this.children=e,this.leaf=!1}}},61256:(w,D,o)=>{o.d(D,{H:()=>W});var O=o(8314),K=o(36592),X=o(65401);const U={minX:0,minY:0,maxX:0,maxY:0};class W{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new K.Q(9,(0,O.Z)("esri-csp-restrictions")?f=>({minX:f[0],minY:f[1],maxX:f[2],maxY:f[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const f=new Array(this._idByBounds.size);let y=0;this._idByBounds.forEach((a,g)=>{f[y++]=g}),this._indexInvalid=!1,this._index.clear(),this._index.load(f)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(f=>this._idByBounds.has(f))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const f=(0,X.cS)();for(const y of this._boundsById.values())y&&(f[0]=Math.min(y[0],f[0]),f[1]=Math.min(y[1],f[1]),f[2]=Math.max(y[2],f[2]),f[3]=Math.max(y[3],f[3]));return f}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(f){const y=this._boundsById.get(f);this._boundsById.delete(f),y&&(this._idByBounds.delete(y),this._indexInvalid||this._index.remove(y))}forEachInBounds(f,y){this._loadIndex(),function C(Y,f,y){(function v(Y){U.minX=Y[0],U.minY=Y[1],U.maxX=Y[2],U.maxY=Y[3]})(f),Y.search(U,y)}(this._index,f,a=>y(this._idByBounds.get(a)))}get(f){return this._boundsById.get(f)}has(f){return this._boundsById.has(f)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(f,y){if(!this._indexInvalid){const a=this._boundsById.get(f);a&&(this._index.remove(a),this._idByBounds.delete(a))}this._boundsById.set(f,y),y&&(this._idByBounds.set(y,f),this._indexInvalid||(this._boundsToLoad.push(y),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},3579:(w,D,o)=>{o.d(D,{Z:()=>f});var O=o(26584),K=o(61885),X=o(63290),b=o(62208),U=o(5548),v=o(65401),C=o(82054),W=o(61256),Y=o(92794);class f{constructor(a){this.geometryInfo=a,this._boundsStore=new W.H,this._featuresById=new Map,this._markedIds=new Set,this.events=new K.Z,this.featureAdapter=Y.n}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let a=0;return this._featuresById.forEach(g=>{(0,b.pC)(g.geometry)&&g.geometry.coords&&(a+=g.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:a/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(a){this._add(a),this._emitChanged()}addMany(a){for(const g of a)this._add(g);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(a){const g=this._featuresById.get(a);return g?(this._remove(g),this._emitChanged(),g):null}removeManyById(a){this._boundsStore.invalidateIndex();for(const g of a){const A=this._featuresById.get(g);A&&this._remove(A)}this._emitChanged()}forEachBounds(a,g,A){for(const S of a){const Q=this._boundsStore.get(S.objectId);Q&&g((0,U.JR)(A,Q))}}getFeature(a){return this._featuresById.get(a)}has(a){return this._featuresById.has(a)}toArray(){return Array.from(this._featuresById.values())}forEach(a){this._featuresById.forEach(g=>a(g))}forEachInBounds(a,g){this._boundsStore.forEachInBounds(a,A=>{g(this._featuresById.get(A))})}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let a=!1;this._featuresById.forEach((g,A)=>{this._markedIds.has(A)||(a=!0,this._remove(g))}),this._markedIds.clear(),a&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(a){if(!a)return;const g=a.objectId;if(null==g)return void X.Z.getLogger("esri.layers.graphics.data.FeatureStore").error(new O.Z("featurestore:invalid-feature","feature id is missing",{feature:a}));const A=this._featuresById.get(g);let S;if(this._markedIds.add(g),A?(a.displayId=A.displayId,S=this._boundsStore.get(g),this._boundsStore.delete(g)):(0,b.pC)(this.onFeatureAdd)&&this.onFeatureAdd(a),(0,b.Wi)(a.geometry)||!a.geometry.coords||!a.geometry.coords.length)return this._boundsStore.set(g,null),void this._featuresById.set(g,a);S=(0,C.$)((0,b.pC)(S)?S:(0,v.Ue)(),a.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,b.pC)(S)&&this._boundsStore.set(g,S),this._featuresById.set(g,a)}_remove(a){return(0,b.pC)(this.onFeatureRemove)&&this.onFeatureRemove(a),this._markedIds.delete(a.objectId),this._boundsStore.delete(a.objectId),this._featuresById.delete(a.objectId),a}}},92794:(w,D,o)=>{o.d(D,{n:()=>U});var O=o(62208),K=o(77044),X=o(66385),b=o(88071);const U={getObjectId:v=>v.objectId,getAttributes:v=>v.attributes,getAttribute:(v,C)=>v.attributes[C],cloneWithGeometry:(v,C)=>new X.u_(C,v.attributes,null,v.objectId),getGeometry:v=>v.geometry,getCentroid:(v,C)=>((0,O.Wi)(v.centroid)&&(v.centroid=(0,K.Y)(new b.Z,v.geometry,C.hasZ,C.hasM)),v.centroid)}},54896:(w,D,o)=>{o.r(D),o.d(D,{default:()=>pe});var O=o(15861),X=(o(29132),o(84792)),b=o(26584),U=o(63290),v=o(10699),C=o(21726),W=o(55915),Y=o(15994),f=o(37053),y=o(46367),a=o(66385),g=o(88071),A=o(3579),S=o(82959),Q=o(58175);const ie=/^\s*"([\S\s]*)"\s*$/,$=/""/g,R=[","," ",";","|","\t"];function*H(p,r,t){let s=0;for(;s<=p.length;){const h=p.indexOf(r,s),m=p.substring(s,h>-1?h:void 0);s+=m.length+r.length,t&&!m.trim()||(yield m)}}function se(p){const r=p.includes("\r\n")?"\r\n":"\n";return H(p,r,!0)}function re(p,r){return H(p,r,!1)}function*q(p,r,t,s=(()=>Object.create(null))){let h="",m="",M=0,B=s(),P=0;e:for(const I of p){const F=re(I,t);for(const N of F)if(h+=m+N,m="",M+=u(N),M%2==0){if(M>0){const J=ie.exec(h);if(!J){B=s(),P=0,h="",M=0;continue e}B[r[P]]=J[1].replace($,'"'),P++}else B[r[P]]=h,P++;h="",M=0}else m=t;0===M?(yield B,B=s(),P=0):m="\n"}}function u(p){let r=0,t=0;for(t=p.indexOf('"',t);t>=0;)r++,t=p.indexOf('"',t+1);return r}var e=o(56554),n=o(75327);function d(p){if(!p.length)return"string";const r=/[^+-.,0-9]/;return p.map(t=>{let s=!1;if(""!==t){if(r.test(t))s=!0;else{let h=_(t);if(!isNaN(h))return/[.,]/.test(t)||!Number.isInteger(h)||h>214783647||h<-214783648?"double":"integer";if(t.includes("E")){if(h=Number(t),!isNaN(h))return"double";if(t.includes(",")){if(t=t.replace(",","."),h=Number(t),!isNaN(h))return"double";s=!0}else s=!0}else s=!0}return s?/^[-]?\d*[.,]?\d*$/.test(t)?"string":c(new Date(t),t)?"date":"string":"string"}}).reduce((t,s)=>void 0===t||t===s?s:"string"===t||"string"===s?"string":"double"===t||"double"===s?"double":void 0)}function c(p,r){if(!p||"[object Date]"!==Object.prototype.toString.call(p)||isNaN(p.getTime()))return!1;let t=!0;if(!j&&/\d+\W*$/.test(r)){const s=r.match(/[a-zA-Z]{2,}/);if(s){let h=!1,m=0;for(;!h&&m<=s.length;)h=!E.test(s[m]),m++;t=!h}}return t}const _=function(){const p=(0,n.lt)(),r=new RegExp("^"+p.regexp+"$"),t=new RegExp("["+p.group+"\\s\\xa0]","g"),s=p.factor;return h=>{const m=r.exec(h);if(p.factor=s,!m)return NaN;let M=m[1];if(!m[1]){if(!m[2])return NaN;M=m[2],p.factor*=-1}return M=M.replace(t,"").replace(p.decimal,"."),+M*p.factor}}(),E=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,j=Number.isNaN(new Date("technology 10").getTime()),T=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],Z=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"];var G=o(60466),oe=o(36630),he=o(65234);const ce=(0,e.bU)("esriGeometryPoint"),me=["csv"],fe=[0,0];class _e{constructor(r,t){this.x=r,this.y=t}}class pe{constructor(){var r=this;this._queryEngine=null,this._snapshotFeatures=function(){var t=(0,O.Z)(function*(s){const h=yield r._fetch(s);return r._createFeatures(h)});return function(s){return t.apply(this,arguments)}}()}destroy(){var r;null==(r=this._queryEngine)||r.destroy(),this._queryEngine=null}load(r,t={}){var s=this;return(0,O.Z)(function*(){var B;s.loadOptions=r;const[h]=yield Promise.all([s._fetch(t.signal),s._checkProjection(null==(B=null==r?void 0:r.parsingOptions)?void 0:B.spatialReference)]),m=function ye(p,r){const t=r.parsingOptions||{},s={delimiter:t.delimiter,layerDefinition:null,locationInfo:{latitudeFieldName:t.latitudeField,longitudeFieldName:t.longitudeField}},h=se(p);let m=h.next().value;if(!m)throw new b.Z("csv-layer:empty-csv","CSV is empty",{csv:p});if(m=m.trim(),!t.delimiter){const I=function k(p){const r=p.trim();let t=0,s="";for(const h of R){const m=r.split(h).length;m>t&&(t=m,s=h)}return""===s?null:s}(m);if(!I)throw new b.Z("csv-layer:invalid-delimiter","Unable to detect the delimiter from CSV");s.delimiter=I}const M=m.split(s.delimiter).filter(I=>!!I),B=s.layerDefinition={name:(0,C.vt)(r.url,me)||"csv",drawingInfo:ce,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:t.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:t.spatialReference||{wkid:102100}}};if(!t.latitudeField||!t.longitudeField){const I=function i(p){const r=p.map(t=>t.toLowerCase());return{longitudeFieldName:p[r.indexOf(Z.find(t=>r.includes(t)))],latitudeFieldName:p[r.indexOf(T.find(t=>r.includes(t)))]}}(M);if(!t.longitudeField&&!I.longitudeFieldName||!t.latitudeField&&!I.latitudeFieldName)throw new b.Z("csv-layer:location-fields-not-found","Unable to identify latitude and longitude fields from the CSV file");s.locationInfo={longitudeFieldName:t.longitudeField||I.longitudeFieldName,latitudeFieldName:t.latitudeField||I.latitudeFieldName}}const P=function l(p,r,t,s){const h=[],m=q(p,t,r),M=[];for(const B of m){if(10===M.length)break;M.push(B)}for(const B of t)if(B===s.longitudeFieldName||B===s.latitudeFieldName)h.push({name:B,type:"esriFieldTypeDouble",alias:B});else{const P=d(M.map(F=>F[B])),I={name:B,type:null,alias:B};switch(P){case"integer":I.type="esriFieldTypeInteger";break;case"double":I.type="esriFieldTypeDouble";break;case"date":I.type="esriFieldTypeDate",I.length=36;break;default:I.type="esriFieldTypeString",I.length=255}h.push(I)}return h}(h,s.delimiter,M,s.locationInfo);if(t.fields&&t.fields.length){const I=new Map;for(const F of t.fields)I.set(F.name.toLowerCase(),F);for(const F of P){const N=I.get(F.name.toLowerCase());if(N){const J=F.name;Object.assign(F,N),F.name=J}}}if(B.fields=P,!B.fields.some(I=>"esriFieldTypeOID"===I.type&&(B.objectIdField=I.name,!0))){const I={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};B.objectIdField=I.name,B.fields.unshift(I)}if(B.timeInfo){const I=new G.Z(B.fields),F=B.timeInfo;if(F.startTimeField){const N=I.get(F.startTimeField);N?(F.startTimeField=N.name,N.type="esriFieldTypeDate"):F.startTimeField=null}if(F.endTimeField){const N=I.get(F.endTimeField);N?(F.endTimeField=N.name,N.type="esriFieldTypeDate"):F.endTimeField=null}if(F.trackIdField){const N=I.get(F.trackIdField);F.trackIdField=N?N.name:null}F.startTimeField||F.endTimeField||(B.timeInfo=null)}return s}(h,r);s.locationInfo=m.locationInfo,s.delimiter=m.delimiter,s._queryEngine=s._createQueryEngine(m);const M=yield s._createFeatures(h);if(s._queryEngine.featureStore.addMany(M),m.layerDefinition.extent=s._queryEngine.fullExtent,m.layerDefinition.timeInfo){const{start:P,end:I}=s._queryEngine.timeExtent;m.layerDefinition.timeInfo.timeExtent=[P,I]}return m})()}applyEdits(){return(0,O.Z)(function*(){throw new b.Z("csv-layer:editing-not-supported","applyEdits() is not supported on CSVLayer")})()}queryFeatures(r={},t={}){var s=this;return(0,O.Z)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQuery(r,t.signal)})()}queryFeatureCount(r={},t={}){var s=this;return(0,O.Z)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQueryForCount(r,t.signal)})()}queryObjectIds(r={},t={}){var s=this;return(0,O.Z)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQueryForIds(r,t.signal)})()}queryExtent(r={},t={}){var s=this;return(0,O.Z)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQueryForExtent(r,t.signal)})()}querySnapping(r,t={}){var s=this;return(0,O.Z)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQueryForSnapping(r,t.signal)})()}refresh(r){var t=this;return(0,O.Z)(function*(){var s;return t.loadOptions.customParameters=r,null==(s=t._snapshotTask)||s.abort(),t._snapshotTask=(0,v.vr)(t._snapshotFeatures),t._snapshotTask.promise.then(h=>{t._queryEngine.featureStore.clear(),h&&t._queryEngine.featureStore.addMany(h)},h=>{t._queryEngine.featureStore.clear(),(0,v.D_)(h)||U.Z.getLogger("esri.layers.CSVLayer").error(new b.Z("csv-layer:refresh","An error occurred during refresh",{error:h}))}),yield t._waitSnapshotComplete(),{extent:t._queryEngine.fullExtent,timeExtent:t._queryEngine.timeExtent}})()}_waitSnapshotComplete(){var r=this;return(0,O.Z)(function*(){if(r._snapshotTask&&!r._snapshotTask.finished){try{yield r._snapshotTask.promise}catch(t){}return r._waitSnapshotComplete()}})()}_fetch(r){var t=this;return(0,O.Z)(function*(){const{url:s,customParameters:h}=t.loadOptions;if(!s)throw new b.Z("csv-layer:invalid-source","url not defined");const m=(0,C.mN)(s);return(yield(0,X.default)(m.path,{query:ne(ne({},m.query),h),responseType:"text",signal:r})).data})()}_createQueryEngine(r){const{objectIdField:t,fields:s,extent:h,timeInfo:m}=r.layerDefinition,M=new A.Z({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1});return new Q.q({fields:s,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:m,objectIdField:t,spatialReference:h.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:M})}_createFeatures(r){var t=this;return(0,O.Z)(function*(){const{latitudeFieldName:s,longitudeFieldName:h}=t.locationInfo,{objectIdField:m,fieldsIndex:M,spatialReference:B}=t._queryEngine;let P=[];const I=[],F=M.fields.filter(x=>x.name!==m).map(x=>x.name);let N=0;const J=se(r);J.next();const ae={};for(const x of M.fields)if("esriFieldTypeOID"!==x.type&&"esriFieldTypeGlobalID"!==x.type){const V=(0,oe.os)(x);void 0!==V&&(ae[x.name]=V)}const ge=q(J,F,t.delimiter,(0,e.Dm)(ae,m));for(const x of ge){const V=t._parseCoordinateValue(x[s]),ee=t._parseCoordinateValue(x[h]);if(null!=ee&&null!=V&&!isNaN(V)&&!isNaN(ee)){x[s]=V,x[h]=ee;for(const L in x)if(L!==s&&L!==h)if(M.isDateField(L)){const te=new Date(x[L]);x[L]=c(te,x[L])?te.getTime():null}else if(M.isNumericField(L)){const te=_(x[L]);x[L]=isNaN(te)?null:te}x[m]=N,N++,P.push(new _e(ee,V)),I.push(x)}}if(!(0,f.fS)({wkid:4326},B))if((0,f.sS)(B))for(const x of P)[x.x,x.y]=(0,y.hG)(x.x,x.y,fe);else P=(0,W.oj)(Y.N,P,he.Z.WGS84,B,null,null);const le=[];for(let x=0;x<P.length;x++){const{x:V,y:ee}=P[x],L=I[x];L[m]=x+1,le.push(new a.u_(new g.Z([],[V,ee]),L,null,L[m]))}return le})()}_parseCoordinateValue(r){if(null==r||""===r)return null;let t=_(r);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(r)),t}_checkProjection(r){return(0,O.Z)(function*(){try{yield(0,S._W)(f.Zn,r)}catch(t){throw new b.Z("csv-layer:projection-not-supported","Projection not supported")}})()}}},56554:(w,D,o)=>{o.d(D,{Dm:()=>W,Hq:()=>Y,MS:()=>f,bU:()=>U});var O=o(8314),K=o(58817),X=o(87757),b=o(24837);function U(y){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===y||"esriGeometryMultipoint"===y?b.I4:"esriGeometryPolyline"===y?b.ET:b.lF}}}const v=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let C=1;function W(y,a){if((0,O.Z)("esri-csp-restrictions"))return()=>ne({[a]:null},y);try{let g=`this.${a} = null;`;for(const S in y)g+=`this${v.test(S)?`.${S}`:`["${S}"]`} = ${JSON.stringify(y[S])};`;const A=new Function(`\n      return class AttributesClass$${C++} {\n        constructor() {\n          ${g};\n        }\n      }\n    `)();return()=>new A}catch(g){return()=>ne({[a]:null},y)}}function Y(y={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,K.d9)(y)}}]}function f(y,a){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:y},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:a,supportsDelete:a,supportsEditing:a,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:a,supportsExceedsLimitStatistics:!0},query:X.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:a,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}}}]);