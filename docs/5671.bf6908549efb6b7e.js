"use strict";var Se=Object.defineProperty,Ue=Object.defineProperties,be=Object.getOwnPropertyDescriptors,Xt=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Jt=(k,x,e)=>x in k?Se(k,x,{enumerable:!0,configurable:!0,writable:!0,value:e}):k[x]=e,_t=(k,x)=>{for(var e in x||(x={}))je.call(x,e)&&Jt(k,e,x[e]);if(Xt)for(var e of Xt(x))Be.call(x,e)&&Jt(k,e,x[e]);return k},Lt=(k,x)=>Ue(k,be(x));(self.webpackChunkbeachSports=self.webpackChunkbeachSports||[]).push([[5671],{25706:(k,x,e)=>{e.d(x,{Z:()=>rt});var D=e(17626),N=(e(29132),e(79608)),R=e(23719),Q=e(86810),O=e(62208),W=e(77712),C=(e(85931),e(8314),e(66656)),a=e(76898),w=e(90912),nt=e(40405),G=e(49672);let H=class extends((0,N.J)(Q.wq)){constructor(K){super(K),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(K){return this.heading===K.heading&&this.tilt===K.tilt&&(0,O._W)(this.position,K.position)&&this.width===K.width&&this.height===K.height}};(0,D._)([(0,W.Cb)({readOnly:!0,json:{read:!1,write:!0}})],H.prototype,"type",void 0),(0,D._)([(0,W.Cb)({type:G.Z}),(0,nt.B)()],H.prototype,"position",void 0),(0,D._)([(0,W.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,nt.B)(),(0,C.p)(K=>R.BV.normalize((0,w.q9)(K),0,!0))],H.prototype,"heading",void 0),(0,D._)([(0,W.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,nt.B)(),(0,C.p)(K=>R.BV.normalize((0,w.q9)(K),0,!0))],H.prototype,"tilt",void 0),(0,D._)([(0,W.Cb)({type:Number,nonNullable:!0}),(0,nt.B)()],H.prototype,"width",void 0),(0,D._)([(0,W.Cb)({type:Number,nonNullable:!0}),(0,nt.B)()],H.prototype,"height",void 0),H=(0,D._)([(0,a.j)("esri.analysis.SlicePlane")],H);const rt=H},34013:(k,x,e)=>{e.d(x,{I:()=>st,b:()=>K});var D=e(62208),b=e(99770),N=e(6945),R=e(78925),Q=e(24255),O=e(10109),W=e(67022),_=e(33726),et=e(2166),C=e(95285),a=e(65787),w=e(17625),nt=e(22355),G=e(35387),H=e(42743),rt=e(16396);function K(g){const h=new nt.kG;(0,et.S)(h,g),h.include(Q.w),h.attributes.add(rt.T.POSITION,"vec3"),h.attributes.add(rt.T.UV0,"vec2"),h.varyings.add("vpos","vec3"),g.hasMultipassTerrain&&h.varyings.add("depth","float");const{vertex:dt,fragment:ft}=h;return dt.uniforms.add(new C.A("textureCoordinateScaleFactor",q=>(0,D.pC)(q.texture)&&(0,D.pC)(q.texture.descriptor.textureCoordinateScaleFactor)?q.texture.descriptor.textureCoordinateScaleFactor:b.O)),dt.code.add(w.H`
    void main(void) {
      vpos = position;
      ${g.hasMultipassTerrain?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `),h.include(R.f5,g),h.include(O.l,g),ft.uniforms.add([new G.A("tex",q=>q.texture),new a.p("opacity",q=>q.opacity)]),h.varyings.add("vTexCoord","vec2"),g.output===N.H.Alpha?ft.code.add(w.H`
    void main() {
      discardBySlice(vpos);
      ${g.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${w.H.float(W.F)}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(ft.include(_.Y),ft.code.add(w.H`
    void main() {
      discardBySlice(vpos);
      ${g.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${w.H.float(W.F)}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${g.transparencyPassType===H.Am.Color?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}
    }
    `)),h}const st=Object.freeze(Object.defineProperty({__proto__:null,build:K},Symbol.toStringTag,{value:"Module"}))},30750:(k,x,e)=>{e.d(x,{S:()=>_,b:()=>W});var D=e(2166),b=e(69960),N=e(65787),R=e(17625),Q=e(22355),O=e(16396);function W(et){const C=new Q.kG;return C.extensions.add("GL_OES_standard_derivatives"),(0,D.S)(C,et),C.attributes.add(O.T.POSITION,"vec3"),C.attributes.add(O.T.UV0,"vec2"),C.varyings.add("vUV","vec2"),C.vertex.code.add(R.H`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),C.fragment.uniforms.add([new b.N("backgroundColor",a=>a.backgroundColor),new b.N("gridColor",a=>a.gridColor),new N.p("gridWidth",a=>a.gridWidth)]),C.fragment.code.add(R.H`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
gl_FragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),C}const _=Object.freeze(Object.defineProperty({__proto__:null,build:W},Symbol.toStringTag,{value:"Module"}))},25601:(k,x,e)=>{e.d(x,{O:()=>Q,s:()=>O});const D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAD/gAD/gAD/cAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fAD/gAD/fAD/fQD/fQD/fQD/fQD/fQD/fgD/jR7/mjn/mjf/p1H/plH/smf/sWb/vHr/u3n/xYz/xIv/zZz/zJv/zJr/1Kv/1Kr/06r/06n/27n/27f/4cX/4cT/59D/7dr/8uX/9u7/+/f////u2EN0AAAAM3RSTlMACBAQICAoKDAwODhAQEhIUFBYYGhweICIkJCXmJ+gp6ivsLe4uL+/wMDHx8/P19/n7/cWvjXwAAACeUlEQVR42tWX3XqiMBCGY2pbtbrUnzhhdak/lHWliJD7v7fdJ+KG5AMhh30P8zCTmS+TycDaeBoHi5Wgf4jVYvbKmRfPgSAHMX9mPRnM1tSIGHM/c2QddLp4c8wxCvYIvqROBPfbHlm/sRYC6smMNTKn3sxZAyvyYNW1v38MM/IkcPQnZHPMLtciz9P9hhqwzoLD+cnfpTIUaYinyZlBkE2YKZcMXCyN/YhsPkuFlMfWJLiwo89VMxfpJDForMCwuG+Zx7ttGO2S/w4LJ42ZURDty5M0a4dqsZAQAihQfXqWdlhnpcmdEPAI0tv2EbnsbsKmdgi6/1GN7T1XJLx5sF0P9SWABMC+co5JBE4Ge/1NTM3EGIJgjFONXCdAbeQYwhN7pRrRV20LJNIhWOczdu+xPFzIBiQ62iIsyIOTvlZUY+HXySLQaMUEeSC1CPYxENIlwk+q8e0clFAIfiKG+qpaIvod4wfU8sqvkDLda+xCCqgDaAk7uyeNqD+feFlfGCcg3Hzsk+xS7Nz1Aq4CcauhhMc0uxaqIgcFsF0J+1WQyoCN7Y9ezeCVH5LhSxmyRvsihKbK1m7LafpSpkpj6yJgtsiVBh6AX5UyCVmMbrNpcwj5/h6DPN79JjAiQAhXVeN6SZI0q5bQnn4wBiHEqpUybp1ZJzWxStVCHhKhAhVLp/Emh6trHpGLaB6yZHk7wu3Z+ChOxhwUNEmYYjpUvqJDksSHraQmJm2DdqQK6sGUObybYtpSN+8Phm3pN2xjDH33R6b0CKxAZNLvl8foD3BBnSw5e8RI+G2P8GD9wHw6YN3wkfA0R4Zz8CGCIfOCv8zM738walXuLw6nXBvPr8wvAAAAAElFTkSuQmCC",b="data:image/png;base64,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";var N=e(81695);const R={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function Q(W){return W.fromData(D,()=>new N.x(D,R))}function O(W){return W.fromData(b,()=>new N.x(b,R))}},2589:(k,x,e)=>{e.d(x,{A:()=>q,C4:()=>lt,Ck:()=>nt,DG:()=>yt,FI:()=>Et,Fj:()=>rt,GI:()=>O,Lj:()=>T,MO:()=>j,MP:()=>wt,N3:()=>a,Ox:()=>Z,SE:()=>Ct,SV:()=>G,Vj:()=>H,Wg:()=>S,X3:()=>it,ZE:()=>Dt,a$:()=>v,am:()=>W,cU:()=>vt,fe:()=>_,go:()=>w,gw:()=>C,hB:()=>at,hf:()=>dt,kM:()=>ot,kq:()=>h,lY:()=>tt,nw:()=>F,on:()=>E,q7:()=>g,q_:()=>m,t:()=>B,tW:()=>Q,uT:()=>At,vh:()=>p,wk:()=>ft,xJ:()=>et,zI:()=>J});var D=e(8314),b=e(21286),N=e(28093),R=e(4794);const Q=(0,D.Z)("mac")?"Meta":"Control",O="Shift",W=2,_=1.15,et=1.15,C=1.1,a=2500,w=.02,nt=Math.cos((0,b.Vl)(45)),G=Math.cos((0,b.Vl)(5)),H=.95,rt=.3,st=(0,N.f)(1,.5,0),g=2,h=1,dt=(0,R.b)([...st,.7]),ft=[0,0,0,.04],q=(0,R.b)([...st,.5]),Ct=(0,R.b)([...st,1]),tt=(0,R.f)(1,1,1,1),Dt=(0,R.f)(1,.8,.6,1),vt=(0,R.f)(1,.93,.86,1),it=(0,R.b)([...st,1]),F=(0,R.b)([...st,1]),m=3,Z=11,ot=22.5,p=40,v=48,E=2.25,S=(0,R.b)([...st,1]),j=4,T=1,J=.3,B=6,At=4,at=12,lt=40,Et=27,yt=1600,wt=.4},96298:(k,x,e)=>{e.d(x,{do:()=>pt,Df:()=>Rt,lX:()=>Wt,aZ:()=>It,ww:()=>mt,zY:()=>ue,Lw:()=>jt,fT:()=>ce,R_:()=>me,i3:()=>Me,j6:()=>ie,vw:()=>Oe,Ju:()=>Ee,Rd:()=>ge,Pt:()=>Ae,TA:()=>de,J0:()=>Bt,lR:()=>Le,Hq:()=>_e,m3:()=>zt,oP:()=>Zt,Sc:()=>Nt,vc:()=>Yt,Q3:()=>le,EC:()=>pe,A5:()=>De,wj:()=>ve,tF:()=>he}),e(29132);var b=e(25706),R=(e(8314),e(63290)),Q=e(21286),O=e(62208),W=e(23841),_=e(28347),et=e(43703),C=e(48977),a=e(84161),w=e(28093),nt=e(55915),G=e(78172),H=e(41743),rt=e(90014),K=e(70562),st=e(34054),g=e(26242),h=e(2589),dt=e(54865),ft=e(45403),q=e(19142),Ct=e(87469),tt=e(993),Dt=e(4794),vt=e(53928),it=e(57521),F=e(40723),m=e(6945),Z=e(87601),ot=e(60881),p=e(5894),v=e(60909),E=e(57623),S=e(17625),j=e(651),T=e(91056),J=e(39114),B=e(12407),At=e(30750),at=e(67969),lt=e(2078);class Et extends S.K{constructor(){super(...arguments),this.backgroundColor=(0,Dt.f)(1,0,0,.5),this.gridColor=(0,Dt.f)(0,1,0,.5),this.gridWidth=4}}class yt extends T.A{initializeProgram(s){const i=yt.shader.get().build(this.configuration);return new B.$(s.rctx,i,J.i)}initializePipeline(){return(0,lt.sm)({blending:(0,lt.wK)(at.zi.ONE,at.zi.ONE,at.zi.ONE_MINUS_SRC_ALPHA,at.zi.ONE_MINUS_SRC_ALPHA),depthTest:{func:at.wb.LESS},colorWrite:lt.BK})}}yt.shader=new j.J(At.S,()=>e.e(5175).then(e.bind(e,15175)));class wt extends F.F5{constructor(s){super(s,new kt),this._config=new Z.m}intersect(s,i,l,c,u,d,f){return(0,E.Bw)(s,i,c,u,d,void 0,f)}createBufferWriter(){return new v.G_(v.W1)}requiresSlot(s){return s===p.r.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL}createGLMaterial(s){return s.output===m.H.Color?new $t(s):null}getConfiguration(){return this._config}}class $t extends ot.Z{constructor(s){super(s),this.ensureTechnique(yt,null)}beginSlot(){return(0,O.Wg)(this.technique)}}class kt extends Et{constructor(){super(...arguments),this.renderOccluded=F.yD.Occlude}}class qt extends vt._{constructor(s){super(s),this._material=null,this._renderOccluded=F.yD.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,Dt.f)(1,0,0,1),this._backgroundColor=(0,Dt.f)(1,0,0,1),this.applyProps(s)}get renderOccluded(){return this._renderOccluded}set renderOccluded(s){s!==this._renderOccluded&&(this._renderOccluded=s,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(s){this._gridWidth!==s&&(this._gridWidth=s,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(s){(0,tt.c)(this._gridColor,s),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(s){(0,tt.c)(this._backgroundColor,s),this._updateMaterial()}createExternalResources(){this._material=new wt(this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(s){(0,O.pC)(this._material)&&s(this._material)}createGeometries(s){if((0,O.pC)(this._material)){const i=it.Z.createSquareGeometry();s.addGeometry(i,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){(0,O.pC)(this._material)&&this._material.setParameters(this.materialParameters)}}var Gt=e(60011),te=e(26046),St=e(42743),ee=e(52107),Ut=e(16396),bt=e(92972),ne=e(79967),Ht=e(49580),re=e(92222),ct=e(33786);e(2004);const se=R.Z.getLogger("esri.views.3d.interactive.analysisTools.slice.sliceToolUtils");function ie(t,s,i,l,c,u,d,f){return function oe(t,s,i,l,c,u){const d=(0,a.e)(t,s),f=g.WM.get(),P=g.WM.get();switch(l===mt.HORIZONTAL_OR_VERTICAL?Math.abs(d)>h.Ck?mt.HORIZONTAL:mt.VERTICAL:l){case mt.VERTICAL:{const L=Math.abs(d)<=h.SV?t:i.viewUp;(0,a.f)(f,L,s),(0,a.c)(P,s);break}case mt.HORIZONTAL:(0,a.f)(f,i.viewUp,s),(0,a.f)(P,s,f);break;case mt.TILTED:{const L=Math.abs(d)<=h.SV?s:i.viewUp;(0,a.f)(f,L,t),(0,a.f)(P,t,f);break}}const U=(0,a.f)(g.WM.get(),f,P);(0,a.e)(U,i.viewForward)>0&&(0,a.g)(P,P,-1),(0,a.n)(c,f),(0,a.n)(u,P)}(s,d.worldUpAtPosition(t,g.WM.get()),c,u,f.basis1,f.basis2),(0,a.g)(f.basis1,f.basis1,i),(0,a.g)(f.basis2,f.basis2,l),(0,a.c)(f.origin,t),(0,rt.my)(f.basis2,f.basis1,f.origin,f.plane),f}function le(t,s,i,l,c,u){const d=(0,a.c)(g.WM.get(),c.origin);(0,a.a)(d,d,(0,a.g)(g.WM.get(),c.basis1,t.direction[0]<0?1:-1)),(0,a.a)(d,d,(0,a.g)(g.WM.get(),c.basis2,t.direction[1]<0?1:-1));const f=(0,a.l)(c.basis1),P=(0,a.l)(c.basis2),U=(0,a.b)(g.WM.get(),i,d),L=(0,a.b)(g.WM.get(),s,d);let A=0,X=0;if(Bt(t)){const ht=jt(c),Ot=jt(u);A=f-.5*t.direction[0]*(0,a.e)(c.basis1,L)/f,X=P-.5*t.direction[1]*(0,a.e)(c.basis2,L)/P;const Tt=Ot/ht;A*=Tt,X*=Tt}const ut=A+.5*t.direction[0]*(0,a.e)(c.basis1,U)/f,Y=X+.5*t.direction[1]*(0,a.e)(c.basis2,U)/P,y=(0,a.g)(g.WM.get(),c.basis1,ut/f),$=(0,a.g)(g.WM.get(),c.basis2,Y/P);(ut<=0||Ft(u.origin,y,l)<=h.DG)&&(0,a.c)(y,u.basis1),(Y<=0||Ft(u.origin,$,l)<=h.DG)&&(0,a.c)($,u.basis2);const gt=(0,a.c)(g.WM.get(),d);return(0,a.a)(gt,gt,(0,a.g)(g.WM.get(),y,t.direction[0]<0?-1:1)),(0,a.a)(gt,gt,(0,a.g)(g.WM.get(),$,t.direction[1]<0?-1:1)),(0,H.f)(gt,y,$,u)}function ce(t,s){return h.MP*Math.min(s.width,s.height)*s.computeRenderPixelSizeAt(t)}function de(t,s,i,l){const c=(0,a.f)(g.WM.get(),s,i);return(0,a.f)(c,c,s),(0,rt.Yq)(t,c,l)}function ue(t,s){return(0,q.Aq)(t.basis1,t.basis2,t.origin,s)}function ge(t,s,i,l){const c=s.worldUpAtPosition(t.origin,g.WM.get()),u=g.WM.get();switch(i){case It.HEADING:(0,a.c)(u,c);break;case It.TILT:(0,a.c)(u,t.basis1)}return(0,rt.Yq)(t.origin,u,l)}function he(t,s,i,l){const c=Kt(i,Mt.NEGATIVE_X),u=g.MP.get();(0,_.g)(u,s,c.edge*Math.PI/2);const d=(0,a.n)(g.WM.get(),c.basis);let f=(0,a.g)(g.WM.get(),d,c.direction*l.computeScreenPixelSizeAt(c.position)*h.vh);(0,a.a)(f,f,c.position);const P=l.projectToRenderScreen(f,(0,W.Wv)(g.WM.get())),U=function fe(t,s){const[i,l,c,u]=t.viewport,d=Math.min(c,u)/16;let f=!0;return s[0]<i+d?(s[0]=i+d,f=!1):s[0]>i+c-d&&(s[0]=i+c-d,f=!1),s[1]<l+d?(s[1]=l+d,f=!1):s[1]>l+u-d&&(s[1]=l+u-d,f=!1),f}(l,P);(0,te.Bh)(l,P,xt),(0,a.n)(xt.direction,xt.direction);const L=g.WM.get();!U&&(0,H.i)(i,xt,L)&&(f=L),u[12]=0,u[13]=0,u[14]=0,t.modelTransform=u,t.renderLocation=(0,w.a)(f),U?t.state|=Rt:t.state&=~Rt}function pe(t,s,i,l){const c=(0,a.l)(l.basis1),u=(0,a.l)(l.basis2),d=Qt(l),f=jt(l),P=(0,a.s)(g.WM.get(),0,0,0);(0,a.a)(P,(0,a.g)(g.WM.get(),l.basis1,s.direction[0]),(0,a.g)(g.WM.get(),l.basis2,s.direction[1])),(0,a.a)(P,l.origin,P);let U=0,L=1;if(Bt(s))1===s.direction[0]&&-1===s.direction[1]?U=Pt:1===s.direction[0]&&1===s.direction[1]?U=Math.PI:-1===s.direction[0]&&1===s.direction[1]&&(U=3*Math.PI/2),L=f;else{const X=0!==s.direction[0]?1:2;U=1===X?Pt:0,L=(1===X?u:c)-d}const A=(0,_.b)(g.MP.get(),U);(0,_.h)(A,A,(0,a.s)(g.WM.get(),L,L,L)),(0,_.m)(A,i,A),A[12]=0,A[13]=0,A[14]=0,t.modelTransform=A,t.renderLocation=P}function De(t,s,i,l){const c=l.worldUpAtPosition(i.origin,g.WM.get()),u=Kt(i,Mt.POSITIVE_X),d=(0,_.b)(g.MP.get(),u.edge*Math.PI/2);(0,_.r)(d,d,-Vt(i,c)),(0,_.m)(d,s,d),d[12]=0,d[13]=0,d[14]=0,t.modelTransform=d,t.renderLocation=u.position}function ve(t,s,i){const l=Kt(i,Mt.POSITIVE_Y),c=(0,_.b)(g.MP.get(),l.edge*Math.PI/2);(0,_.r)(c,c,Pt),(0,_.m)(c,s,c),c[12]=0,c[13]=0,c[14]=0,t.modelTransform=c,t.renderLocation=l.position}var Mt,t;function Kt(t,s){switch(s){case Mt.POSITIVE_X:return{basis:t.basis1,direction:1,position:(0,a.a)(g.WM.get(),t.origin,t.basis1),edge:s};case Mt.POSITIVE_Y:return{basis:t.basis2,direction:1,position:(0,a.a)(g.WM.get(),t.origin,t.basis2),edge:s};case Mt.NEGATIVE_X:return{basis:t.basis1,direction:-1,position:(0,a.b)(g.WM.get(),t.origin,t.basis1),edge:s};case Mt.NEGATIVE_Y:return{basis:t.basis2,direction:-1,position:(0,a.b)(g.WM.get(),t.origin,t.basis2),edge:s}}}function Ft(t,s,i){const l=i.projectToRenderScreen((0,a.a)(g.WM.get(),t,s),(0,W.Wv)(g.WM.get())),c=i.projectToRenderScreen((0,a.b)(g.WM.get(),t,s),(0,W.Wv)(g.WM.get()));return(0,a.p)((0,a.b)(l,l,c))}function Qt(t){const s=(0,a.l)(t.basis1),i=(0,a.l)(t.basis2);return h.zI*Math.min(s,i)}function jt(t){return Qt(t)}function Bt(t){return 0!==t.direction[0]&&0!==t.direction[1]}function Ae(t,s=Wt.CENTER_ON_ARROW){const i=s===Wt.CENTER_ON_CALLOUT?h.vh:0,l=[(0,w.f)(i,0,-h.a$/2),(0,w.f)(i,0,h.a$/2)],c=function Te(t,s){const i=(0,a.b)((0,w.c)(),t[t.length-1],t[t.length-2]);if((0,a.n)(i,i),(0,a.g)(i,i,h.hB),(0,a.a)(i,i,t[t.length-1]),s){const l=(0,a.b)((0,w.c)(),t[0],t[1]);return(0,a.n)(l,l),(0,a.g)(l,l,h.hB),(0,a.a)(l,l,t[0]),[l,...t,i]}return[...t,i]}(l,!0),u=(y,$)=>function Ce(t,s,i){const l=c=>{const u=(c?s:t).slice(0),d=(0,a.b)(g.WM.get(),u[0],u[1]);(0,a.n)(d,d);const f=(0,a.b)(g.WM.get(),u[u.length-1],u[u.length-2]);if((0,a.n)(f,f),i.padding>0){const ht=(0,a.g)((0,w.c)(),f,-i.padding);if(u[u.length-1]=(0,a.a)(ht,ht,u[u.length-1]),i.bothEnds){const Ot=(0,a.g)((0,w.c)(),d,-i.padding);u[0]=(0,a.a)(Ot,Ot,u[0])}}const P=c?i.tipFocusMultiplier:1,U=i.tipLength*(i.focusTipLength?P:1),L=i.tipRadius*P,A=(0,_.i)(g.MP.get());if(i.padding>0){const ht=U/4,Ot=(0,a.s)(g.WM.get(),0,ht,0),Tt=1+i.padding/ht;(0,_.j)(A,A,Ot),(0,_.h)(A,A,(0,a.s)(g.WM.get(),Tt,Tt,Tt)),(0,_.j)(A,A,(0,a.g)(Ot,Ot,-1/Tt))}const X=(0,_.i)((0,et.c)()),ut=(0,w.f)(0,1,0),Y=(0,_.k)((0,et.c)(),(0,C.r)(g.vD.get(),ut,f));Y[12]=u[u.length-1][0],Y[13]=u[u.length-1][1],Y[14]=u[u.length-1][2],(0,_.m)(Y,Y,A);const y=[{part:"tube",geometry:Pe(i.tubeRadius*(c?i.tubeFocusMultiplier:1)+i.padding,i.flat,u),transform:X}];let $,gt;if((0,O.pC)(i.flat)?$=it.Z.createExtrudedTriangle(U,L,L,i.flat.thickness):($=it.Z.createConeGeometry(U,L,24,!1,!1,!0),gt=it.Z.createConeGeometry(U,L,24,!1,!0,!1)),y.push({part:"tip",geometry:$,transform:Y}),gt&&y.push({part:"cap",geometry:gt,transform:Y}),i.bothEnds){const ht=(0,_.k)((0,et.c)(),(0,C.r)(g.vD.get(),ut,d));ht[12]=u[0][0],ht[13]=u[0][1],ht[14]=u[0][2],(0,_.m)(ht,ht,A),y.push({part:"tip",geometry:$,transform:ht}),gt&&y.push({part:"cap",geometry:gt,transform:ht})}return y};return{normal:l(!1),focused:l(!0)}}(l,l,{tubeRadius:h.q_,tipRadius:h.Ox,tipLength:h.kM,tubeFocusMultiplier:h.fe,tipFocusMultiplier:h.xJ,padding:y,bothEnds:!0,flat:null,focusTipLength:!0,addCap:$}),d=u(0,!1),f=u(h.on,!0),P=new bt.E({color:h.lY,cullFace:St.Vr.Back,renderOccluded:F.yD.Opaque}),U=new bt.E({color:h.ZE,cullFace:St.Vr.Back,renderOccluded:F.yD.Opaque}),L=new bt.E({color:h.cU,cullFace:St.Vr.Back,renderOccluded:F.yD.Opaque}),A=new bt.E({color:h.nw,transparent:!0,writeDepth:!1,cullFace:St.Vr.Front,renderOccluded:F.yD.Transparent}),X=it.Z.createPolylineGeometry([[i,0,0],[i-h.vh,0,0]]),ut=it.Z.createPolylineGeometry([[i,0,0],[i-h.vh,0,0]]),Y=new Ht.Y({color:h.X3,renderOccluded:F.yD.OccludeAndTransparent});return new ft.Z({view:t,renderObjects:[...d.normal.map(({part:y,geometry:$,transform:gt})=>({geometry:$,material:"tip"===y?P:"cap"===y?U:L,transform:gt,stateMask:ct.Q9.Unfocused|pt})),...f.normal.map(({geometry:y,transform:$})=>({geometry:y,material:A,transform:$,stateMask:ct.Q9.Unfocused|pt})),{geometry:X,material:Y,stateMask:ct.Q9.Unfocused|pt|Rt},...d.focused.map(({part:y,geometry:$,transform:gt})=>({geometry:$,material:"tip"===y?P:"cap"===y?U:L,transform:gt,stateMask:ct.Q9.Focused|pt})),...f.focused.map(({geometry:y,transform:$})=>({geometry:y,material:A,transform:$,stateMask:ct.Q9.Focused|pt})),{geometry:ut,material:Y,stateMask:ct.Q9.Focused|pt|Rt}],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[c]},collisionPriority:1,radius:h.Ox,state:pt})}function Ee(t,s){const i=new ne.j({transparent:!0,writeDepth:!1,textureId:s.id,renderOccluded:F.yD.Opaque}),l=h.C4,c=h.FI,u=c*h.gw,d=A=>{const X=new Uint32Array([0,1,2,2,3,0]);return new ee.Z([[Ut.T.POSITION,{size:3,data:[l-A,-A,0,l+A,-A,0,l+A,A,0,l-A,A,0],exclusive:!0}],[Ut.T.UV0,{size:2,data:[0,0,1,0,1,1,0,1]}]],[[Ut.T.POSITION,X],[Ut.T.UV0,X]])},f=it.Z.createPolylineGeometry([[0,0,0],[l-c,0,0]]),P=it.Z.createPolylineGeometry([[0,0,0],[l-u,0,0]]),U=new Ht.Y({color:h.SE,renderOccluded:F.yD.OccludeAndTransparent}),L=[{geometry:d(c),material:i,stateMask:ct.Q9.Unfocused|pt},{geometry:f,material:U,stateMask:ct.Q9.Unfocused|pt},{geometry:d(u),material:i,stateMask:ct.Q9.Focused|pt},{geometry:P,material:U,stateMask:ct.Q9.Focused|pt}];return new ft.Z({view:t,renderObjects:L,autoScaleRenderObjects:!1,collisionType:{type:"disc",direction:[0,0,1],offset:[l,0,0]},collisionPriority:1,radius:c/2,state:pt})}function Me(t){return new Ct.r({view:t,attached:!0,color:h.hf,width:h.kq,writeDepthEnabled:!1,renderOccluded:F.yD.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function me(t){return new qt({view:t,attached:!0,backgroundColor:[...h.wk],gridColor:h.A,gridWidth:4,renderOccluded:F.yD.OccludeAndTransparent})}function Oe(t,s){const i=Bt(s),l=i?[(0,w.f)(1,0,0),(0,w.f)(0,0,0),(0,w.f)(0,1,0)]:[(0,w.f)(1,0,0),(0,w.f)(-1,0,0)],c=it.Z.createPolylineGeometry(l),u=h.Wg,P=i?h.MO:h.Lj,U=P*h.am,L=h.Lj,A=Y=>Y>1?(Y=>new re.U({color:u,width:Y,renderOccluded:F.yD.OccludeAndTransparent}))(Y):new Ht.Y({color:u,renderOccluded:F.yD.OccludeAndTransparent}),X=[{geometry:c,material:A(P),stateMask:ct.Q9.Unfocused|Nt},{geometry:c,material:A(U),stateMask:ct.Q9.Focused|Nt},{geometry:c,material:A(L),stateMask:Yt}],ut=new ft.Z({view:t,renderObjects:X,collisionType:{type:"line",paths:[l]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?h.t:h.uT});return ut.state=Nt,ut}function Pe(t,s,i){const l=[];if((0,O.pC)(s))l.push([t,s.thickness/2],[-t,s.thickness/2],[-t,-s.thickness/2],[t,-s.thickness/2]);else for(let u=0;u<12;u++){const d=u/12*2*Math.PI;l.push([Math.cos(d)*t,Math.sin(d)*t])}return it.Z.createPathExtrusionGeometry(l,i,[],[],!1)}function _e(t,s,i,l=new b.Z){if((0,O.Wi)(t))return null;const{renderCoordsHelper:c}=s,u=c.fromRenderCoords(t.origin,s.spatialReference);if((0,O.Wi)(u))return null;const d=(0,nt.fM)(u,i);if((0,O.Wi)(d))return null;l.position=d;const f=c.worldUpAtPosition(t.origin,g.WM.get()),P=c.worldBasisAtPosition(t.origin,G.R.Y,g.WM.get()),U=2*(0,a.l)(t.basis1),L=2*(0,a.l)(t.basis2),A=Gt.Z.renderUnitScaleFactor(s.spatialReference,i);return l.width=U*A,l.height=L*A,l.tilt=(0,Q.BV)(Vt(t,f)),l.heading=(0,Q.BV)(function Ie(t,s,i){return(0,st.cp)(t.basis1,i,s)-Pt}(t,f,P)),l}function Vt(t,s){return(0,st.cp)(s,t.basis2,t.basis1)+Pt}function zt(t,s){if((0,O.Wi)(t)||(0,O.Wi)(t.position))return null;const i=(0,dt.G)(t.position,s.spatialReference,s.elevationProvider);if((0,O.Wi)(i))return null;const l=Gt.Z.renderUnitScaleFactor(t.position.spatialReference,s.spatialReference);return{position:i,heading:t.heading,tilt:t.tilt,renderWidth:t.width*l,renderHeight:t.height*l}}function Zt(t,s,i,l=(0,H.c)()){if((0,O.Wi)(t))return null;const c=function Re(t,s,i,l,c,u,d=(0,H.c)()){return u.toRenderCoords(t,d.origin)?(u.worldBasisAtPosition(d.origin,G.R.X,d.basis1),u.worldBasisAtPosition(d.origin,G.R.Y,d.basis2),(0,rt.my)(d.basis2,d.basis1,d.origin,d.plane),(0,H.r)(d,-(0,Q.Vl)(s),(0,H.n)(d),d),(0,H.r)(d,(0,Q.Vl)(i),d.basis1,d),(0,a.g)(d.basis1,d.basis1,l/2),(0,a.g)(d.basis2,d.basis2,c/2),(0,H.u)(d),d):(se.error(`Failed to project slice plane position, projection from ${t.spatialReference.wkid} is not supported`),null)}(t.position,t.heading,t.tilt,t.renderWidth,t.renderHeight,s.renderCoordsHelper,l);return!i.tiltEnabled&&(0,O.pC)(c)&&function ae(t,s,i){const l=s.worldUpAtPosition(t.origin,g.WM.get()),c=t.basis1,u=Vt(t,l),d=Math.round(u/Pt)*Pt;(0,H.r)(t,d-u,c,i)}(c,s.renderCoordsHelper,c),c}(t=Mt||(Mt={}))[t.POSITIVE_X=0]="POSITIVE_X",t[t.POSITIVE_Y=1]="POSITIVE_Y",t[t.NEGATIVE_X=2]="NEGATIVE_X",t[t.NEGATIVE_Y=3]="NEGATIVE_Y";const pt=ct.jg.Custom1;var It,mt;(function(t){t[t.HEADING=1]="HEADING",t[t.TILT=2]="TILT"})(It||(It={})),function(t){t[t.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t[t.VERTICAL=2]="VERTICAL",t[t.TILTED=3]="TILTED"}(mt||(mt={}));const Rt=ct.jg.Custom2,xt=(0,K.Ue)(),Pt=Math.PI/2,Nt=ct.jg.Custom1,Yt=ct.jg.Custom2;var Wt;function Le(t){return(0,O.pC)("building-scene-3d"===t.type?t:null)}!function(t){t[t.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",t[t.CENTER_ON_ARROW=1]="CENTER_ON_ARROW"}(Wt||(Wt={}))},54865:(k,x,e)=>{e.d(x,{G:()=>R,e:()=>Q});var D=e(62208),b=e(55915),N=e(53929);function R(O,W,_,et=!1){const C=(0,b.fM)(O,W);return(0,D.Wi)(C)?null:(C.hasZ&&!et||!(0,D.pC)(_)||(C.z=(0,D.Pt)((0,N.KO)(_,C),0)),C)}function Q(O,W,_){_.warnOnce(`Failed to project analysis geometry (id: '${O.id}'), projection from spatial reference (wkid: '${W.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}},8859:(k,x,e)=>{e.d(x,{G:()=>h,J4:()=>it,Sp:()=>Ct,VG:()=>dt,_N:()=>rt,_y:()=>ft,bB:()=>K,gv:()=>F,zP:()=>Dt});var vt,p,D=e(62208),b=e(23841),N=e(84161),R=e(28093),Q=e(55915),O=e(90014),W=e(70562),_=e(34054),et=e(26242),C=e(60507),a=e(26046),w=e(62483),nt=e(67857),G=e(40841),H=e(75079);function rt(p,v){return st(p,()=>v)}function K(p){return st(p,v=>v.plane)}function st(p,v){const E=(0,R.c)(),S=(0,R.c)();let j=!1;return T=>{const J=v(T);if("start"===T.action){const at=(0,b.md)(T.screenStart,(0,b.c$)(et.qW.get())),lt=(0,a.u4)(p.state.camera,at,ot);(0,D.pC)(lt)&&(j=(0,O.BR)(J,lt,E))}if(!j)return null;const B=(0,b.md)(T.screenEnd,(0,b.c$)(et.qW.get())),At=(0,a.u4)(p.state.camera,B,ot);return(0,D.Wi)(At)?null:(0,O.BR)(J,At,S)?Lt(_t({},T),{renderStart:E,renderEnd:S,plane:J,ray:At}):null}}function h(p,v,E,S=null,j=null){return function g(p,v,E,S=null,j=null){let T=null;return J=>{if("start"===J.action&&(T=p.sceneIntersectionHelper.intersectElevationFromScreen((0,b.s1)(J.screenStart.x,J.screenStart.y),v,E,j),(0,D.pC)(T)&&(0,D.pC)(S)&&!(0,Q.nF)(T,T,S))||(0,D.Wi)(T))return null;const B=p.sceneIntersectionHelper.intersectElevationFromScreen((0,b.s1)(J.screenEnd.x,J.screenEnd.y),v,E,j);return(0,D.pC)(B)?(0,D.pC)(S)&&!(0,Q.nF)(B,B,S)?null:Lt(_t({},J),{mapStart:T,mapEnd:B}):null}}(p,E,(0,C.Ou)(v,p,E),S,j)}function dt(p,v,E,S=null,j=null){return h(p,E,(0,C.RL)(v),S,j)}function ft(p,v,E,S){const j=v.toMap(p.screenStart,{include:[E]});return(0,D.pC)(j)?dt(v,E,j,S):null}function Ct(p,v,E){let S=null;const j=new H.hM;return j.next(rt(p,function q(p,v){const E=m,S=Z,j=(0,O.Ue)();p.renderCoordsHelper.worldUpAtPosition(v,E);const T=(0,N.f)(j,E,(0,N.b)(S,v,p.state.camera.eye));return(0,N.f)(T,T,E),(0,O.Yq)(v,T,j)}(p,v))).next(function tt(p,v){const E=(0,R.c)(),S=(0,N.l)(v);p.renderCoordsHelper.worldUpAtPosition(v,E);const j=(0,R.c)(),T=(0,R.c)(),J=B=>((0,N.b)(B,B,v),(0,_.nF)(E,B,B),"global"===p.viewingMode&&(0,N.l)(B)*Math.sign((0,N.e)(E,B))<.001-S&&(0,N.b)(B,(0,N.g)(B,E,.001),v),(0,N.a)(B,B,v),B);return B=>(B.renderStart=J((0,N.c)(j,B.renderStart)),B.renderEnd=J((0,N.c)(T,B.renderEnd)),B)}(p,v)).next(Dt(p,E)).next(T=>{T.mapEnd.x=T.mapStart.x,T.mapEnd.y=T.mapStart.y,S=T}),T=>(S=null,j.execute(T),S)}function Dt(p,v){const E=p.renderCoordsHelper;return S=>{const j=E.fromRenderCoords(S.renderStart,v),T=E.fromRenderCoords(S.renderEnd,v);return(0,D.pC)(j)&&(0,D.pC)(T)?Lt(_t({},S),{mapStart:j,mapEnd:T}):null}}function it(p){let v=null;return E=>{switch(E.action){case"start":v=p.disableDisplay();break;case"end":case"cancel":(0,D.pC)(v)&&(v.remove(),v=null)}return E}}function F(p,v=null){const E=(0,w.Z8)(p.state.viewingMode);E.options.selectionMode=!0,E.options.store=nt.eC.MIN,E.options.hud=!1;const S=(0,b.s1)(),j={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},T=(0,R.c)(),J=(0,D.Pt)(v,p.spatialReference),B=at=>{p.map.ground&&p.map.ground.opacity<1?j.exclude.add(G.cy):j.exclude.delete(G.cy),p.sceneIntersectionHelper.intersectIntersectorScreen((0,b.md)(at,S),E,j);const lt=E.results.min;let Et;if(lt.getIntersectionPoint(T))Et=lt.intersector===nt.q7.TERRAIN?vt.GROUND:vt.OTHER;else{if(!E.results.ground.getIntersectionPoint(T))return null;Et=vt.GROUND}return{location:p.renderCoordsHelper.fromRenderCoords(T,J),surfaceType:Et}};let At;return at=>{if("start"===at.action){const Et=B(at.screenStart);At=(0,D.pC)(Et)?Et.location:null}if((0,D.Wi)(At))return null;const lt=B(at.screenEnd);return(0,D.pC)(lt)&&(0,D.pC)(lt.location)?Lt(_t({},at),{mapStart:At,mapEnd:lt.location,surfaceType:lt.surfaceType}):null}}(p=vt||(vt={}))[p.GROUND=0]="GROUND",p[p.OTHER=1]="OTHER";const m=(0,R.c)(),Z=(0,R.c)(),ot=(0,W.Ue)()},79967:(k,x,e)=>{e.d(x,{j:()=>Dt});var D=e(6945),b=e(42743),N=e(32393),R=e(33470),Q=e(40723),O=e(88569),W=e(5894),_=e(60909),et=e(57623),C=e(17626),w=(e(17625),e(651)),nt=e(91056),G=e(87601),H=e(39114),rt=e(12407),K=e(64127),st=e(41528),g=e(34013),h=e(67969),dt=e(2078);class q extends nt.A{initializeProgram(m){const Z=q.shader.get().build(this.configuration);return new rt.$(m.rctx,Z,H.i)}_setPipelineState(m,Z){const ot=this.configuration,p=m===b.Am.NONE,v=m===b.Am.FrontFace;return(0,dt.sm)({blending:ot.output!==D.H.Color&&ot.output!==D.H.Alpha||!ot.transparent?null:p?Ct:(0,O.j7)(m),culling:(0,dt.zp)(ot.cullFace),depthTest:{func:(0,O.Bh)(m)},depthWrite:p?ot.writeDepth&&dt.LZ:(0,O.K5)(m),colorWrite:dt.BK,stencilWrite:ot.hasOccludees?K.s3:null,stencilTest:ot.hasOccludees?Z?K.eD:K.RY:null,polygonOffset:p||v?null:(0,O.je)(ot.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(m,Z){return Z?this._occludeePipelineState:super.getPipelineState(m,Z)}}q.shader=new w.J(g.I,()=>e.e(8586).then(e.bind(e,18586)));const Ct=(0,dt.if)(h.zi.ONE,h.zi.ONE_MINUS_SRC_ALPHA);class tt extends st.W{constructor(){super(...arguments),this.output=D.H.Color,this.cullFace=b.Vr.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=b.Am.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}(0,C._)([(0,G.o)({count:D.H.COUNT})],tt.prototype,"output",void 0),(0,C._)([(0,G.o)({count:b.Vr.COUNT})],tt.prototype,"cullFace",void 0),(0,C._)([(0,G.o)()],tt.prototype,"hasSlicePlane",void 0),(0,C._)([(0,G.o)()],tt.prototype,"transparent",void 0),(0,C._)([(0,G.o)()],tt.prototype,"enableOffset",void 0),(0,C._)([(0,G.o)()],tt.prototype,"writeDepth",void 0),(0,C._)([(0,G.o)()],tt.prototype,"hasOccludees",void 0),(0,C._)([(0,G.o)({count:b.Am.COUNT})],tt.prototype,"transparencyPassType",void 0),(0,C._)([(0,G.o)()],tt.prototype,"hasMultipassTerrain",void 0),(0,C._)([(0,G.o)()],tt.prototype,"cullAboveGround",void 0);class Dt extends Q.F5{constructor(m){super(m,new it),this.supportsEdges=!0,this.techniqueConfig=new tt}getConfiguration(m,Z){return this.techniqueConfig.output=m,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.hasOccludees=this.parameters.hasOccludees,this.techniqueConfig.transparencyPassType=Z.transparencyPassType,this.techniqueConfig.enableOffset=Z.camera.relativeElevation<O.ve,this.techniqueConfig.hasMultipassTerrain=Z.multipassTerrain.enabled,this.techniqueConfig.cullAboveGround=Z.multipassTerrain.cullAboveGround,this.techniqueConfig}intersect(m,Z,ot,p,v,E,S){(0,et.Bw)(m,Z,p,v,E,void 0,S)}requiresSlot(m,Z){return m===W.r.DRAPED_MATERIAL||((0,N.S)(Z)===D.H.Highlight?m===W.r.OPAQUE_MATERIAL:m===(this.parameters.transparent?this.parameters.writeDepth?W.r.TRANSPARENT_MATERIAL:W.r.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:W.r.OPAQUE_MATERIAL))}createGLMaterial(m){return m.output===D.H.Color||m.output===D.H.Alpha||m.output===D.H.Highlight?new vt(m):void 0}createBufferWriter(){return new _.G_(_.W1)}}class vt extends R.F{constructor(m){super(_t(_t({},m),m.material.parameters))}_updateParameters(m){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(q,m)}_updateOccludeeState(m){m.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:m.hasOccludees}),this._updateParameters(m))}beginSlot(m){return this._output!==D.H.Color&&this._output!==D.H.Alpha||this._updateOccludeeState(m),this._updateParameters(m)}}class it extends Q.Mt{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=b.Vr.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}}}]);