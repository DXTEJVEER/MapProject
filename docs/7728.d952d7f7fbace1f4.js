"use strict";var J=Object.defineProperty,V=Object.defineProperties,N=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,G=(F,M,l)=>M in F?J(F,M,{enumerable:!0,configurable:!0,writable:!0,value:l}):F[M]=l,Q=(F,M)=>{for(var l in M||(M={}))q.call(M,l)&&G(F,l,M[l]);if($)for(var l of $(M))k.call(M,l)&&G(F,l,M[l]);return F},z=(F,M)=>V(F,N(M));(self.webpackChunkbeachSports=self.webpackChunkbeachSports||[]).push([[7728],{36592:(F,M,l)=>{l.d(M,{Q:()=>T});var C=l(85931),j=l(62208),b=l(77029),B=l(14259);class T{constructor(e=9,t){this.compareMinX=D,this.compareMinY=c,this._toBBox=s=>s,this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this._toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),W.prune(),Y.prune(),R.prune(),X.prune()}all(e){this._all(this.data,e)}search(e,t){let s=this.data;const a=this._toBBox;if(L(e,s))for(W.clear();s;){for(let i=0,o=s.children.length;i<o;i++){const d=s.children[i],h=s.leaf?a(d):d;L(e,h)&&(s.leaf?t(d):v(e,h)?this._all(d,t):W.push(d))}s=W.pop()}}collides(e){let t=this.data;const s=this._toBBox;if(!L(e,t))return!1;for(W.clear();t;){for(let a=0,i=t.children.length;a<i;a++){const o=t.children[a],d=t.leaf?s(o):o;if(L(e,d)){if(t.leaf||v(e,d))return!0;W.push(o)}}t=W.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let s=0,a=e.length;s<a;s++)this.insert(e[s]);return this}let t=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const s=this.data;this.data=t,t=s}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=new _([]),this}remove(e){var h;if(!e)return this;let t,s=this.data,a=null,i=0,o=!1;const d=this._toBBox(e);for(R.clear(),X.clear();s||R.length>0;){if(s||(s=(0,j.j0)(R.pop()),a=R.data[R.length-1],i=null!=(h=X.pop())?h:0,o=!0),s.leaf&&(t=(0,C.cq)(s.children,e,s.children.length,s.indexHint),-1!==t))return s.children.splice(t,1),R.push(s),this._condense(R),this;o||s.leaf||!v(s,d)?a?(i++,s=a.children[i],o=!1):s=null:(R.push(s),X.push(i),i=0,a=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){var a;let s=e;for(Y.clear();s;){if(!0===s.leaf)for(const i of s.children)t(i);else Y.pushArray(s.children);s=null!=(a=Y.pop())?a:null}}_build(e,t,s,a){const i=s-t+1;let o=this._maxEntries;if(i<=o){const m=new _(e.slice(t,s+1));return E(m,this._toBBox),m}a||(a=Math.ceil(Math.log(i)/Math.log(o)),o=Math.ceil(i/o**(a-1)));const d=new y([]);d.height=a;const h=Math.ceil(i/o),x=h*Math.ceil(Math.sqrt(o));K(e,t,s,x,this.compareMinX);for(let m=t;m<=s;m+=x){const g=Math.min(m+x-1,s);K(e,m,g,h,this.compareMinY);for(let U=m;U<=g;U+=h){const w=Math.min(U+h-1,g);d.children.push(this._build(e,U,w,a-1))}}return E(d,this._toBBox),d}_chooseSubtree(e,t,s,a){for(;a.push(t),!0!==t.leaf&&a.length-1!==s;){let i,o=1/0,d=1/0;for(let h=0,x=t.children.length;h<x;h++){const m=t.children[h],g=p(m),U=f(e,m)-g;U<d?(d=U,o=g<o?g:o,i=m):U===d&&g<o&&(o=g,i=m)}t=i||t.children[0]}return t}_insert(e,t,s){const i=s?e:(0,this._toBBox)(e);R.clear();const o=this._chooseSubtree(i,this.data,t,R);for(o.children.push(e),A(o,i);t>=0&&R.data[t].children.length>this._maxEntries;)this._split(R,t),t--;this._adjustParentBBoxes(i,R,t)}_split(e,t){const s=e.data[t],a=s.children.length,i=this._minEntries;this._chooseSplitAxis(s,i,a);const o=this._chooseSplitIndex(s,i,a);if(!o)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const d=s.children.splice(o,s.children.length-o),h=s.leaf?new _(d):new y(d);h.height=s.height,E(s,this._toBBox),E(h,this._toBBox),t?e.data[t-1].children.push(h):this._splitRoot(s,h)}_splitRoot(e,t){this.data=new y([e,t]),this.data.height=e.height+1,E(this.data,this._toBBox)}_chooseSplitIndex(e,t,s){let a,i,o;a=i=1/0;for(let d=t;d<=s-t;d++){const h=O(e,0,d,this._toBBox),x=O(e,d,s,this._toBBox),m=P(h,x),g=p(h)+p(x);m<a?(a=m,o=d,i=g<i?g:i):m===a&&g<i&&(i=g,o=d)}return o}_chooseSplitAxis(e,t,s){const a=e.leaf?this.compareMinX:D,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,s,a)<this._allDistMargin(e,t,s,i)&&e.children.sort(a)}_allDistMargin(e,t,s,a){e.children.sort(a);const i=this._toBBox,o=O(e,0,t,i),d=O(e,s-t,s,i);let h=r(o)+r(d);for(let x=t;x<s-t;x++){const m=e.children[x];A(o,e.leaf?i(m):m),h+=r(o)}for(let x=s-t-1;x>=t;x--){const m=e.children[x];A(d,e.leaf?i(m):m),h+=r(d)}return h}_adjustParentBBoxes(e,t,s){for(let a=s;a>=0;a--)A(t.data[a],e)}_condense(e){for(let t=e.length-1;t>=0;t--){const s=e.data[t];if(0===s.children.length)if(t>0){const a=e.data[t-1],i=a.children;i.splice((0,C.cq)(i,s,i.length,a.indexHint),1)}else this.clear();else E(s,this._toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function E(n,e){O(n,0,n.children.length,e,n)}function O(n,e,t,s,a){a||(a=new _([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let i,o=e;o<t;o++)i=n.children[o],A(a,n.leaf?s(i):i);return a}function A(n,e){n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY)}function D(n,e){return n.minX-e.minX}function c(n,e){return n.minY-e.minY}function p(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function r(n){return n.maxX-n.minX+(n.maxY-n.minY)}function f(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function P(n,e){const t=Math.max(n.minX,e.minX),s=Math.max(n.minY,e.minY),a=Math.min(n.maxX,e.maxX),i=Math.min(n.maxY,e.maxY);return Math.max(0,a-t)*Math.max(0,i-s)}function v(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function L(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function K(n,e,t,s,a){const i=[e,t];for(;i.length;){const o=(0,j.j0)(i.pop()),d=(0,j.j0)(i.pop());if(o-d<=s)continue;const h=d+Math.ceil((o-d)/s/2)*s;(0,B.q)(n,h,d,o,a),i.push(d,h,h,o)}}const W=new b.Z,Y=new b.Z,R=new b.Z,X=new b.Z({deallocator:void 0});class u extends class S{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new C.SO}}class _ extends u{constructor(e){super(),this.children=e,this.leaf=!0}}class y extends u{constructor(e){super(),this.children=e,this.leaf=!1}}},61256:(F,M,l)=>{l.d(M,{H:()=>A});var C=l(8314),j=l(36592),b=l(65401);const T={minX:0,minY:0,maxX:0,maxY:0};class A{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new j.Q(9,(0,C.Z)("esri-csp-restrictions")?c=>({minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const c=new Array(this._idByBounds.size);let p=0;this._idByBounds.forEach((r,f)=>{c[p++]=f}),this._indexInvalid=!1,this._index.clear(),this._index.load(c)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(c=>this._idByBounds.has(c))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const c=(0,b.cS)();for(const p of this._boundsById.values())p&&(c[0]=Math.min(p[0],c[0]),c[1]=Math.min(p[1],c[1]),c[2]=Math.max(p[2],c[2]),c[3]=Math.max(p[3],c[3]));return c}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(c){const p=this._boundsById.get(c);this._boundsById.delete(c),p&&(this._idByBounds.delete(p),this._indexInvalid||this._index.remove(p))}forEachInBounds(c,p){this._loadIndex(),function O(D,c,p){(function E(D){T.minX=D[0],T.minY=D[1],T.maxX=D[2],T.maxY=D[3]})(c),D.search(T,p)}(this._index,c,r=>p(this._idByBounds.get(r)))}get(c){return this._boundsById.get(c)}has(c){return this._boundsById.has(c)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(c,p){if(!this._indexInvalid){const r=this._boundsById.get(c);r&&(this._index.remove(r),this._idByBounds.delete(r))}this._boundsById.set(c,p),p&&(this._idByBounds.set(p,c),this._indexInvalid||(this._boundsToLoad.push(p),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},3579:(F,M,l)=>{l.d(M,{Z:()=>c});var C=l(26584),j=l(61885),b=l(63290),B=l(62208),T=l(5548),E=l(65401),O=l(82054),A=l(61256),D=l(92794);class c{constructor(r){this.geometryInfo=r,this._boundsStore=new A.H,this._featuresById=new Map,this._markedIds=new Set,this.events=new j.Z,this.featureAdapter=D.n}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let r=0;return this._featuresById.forEach(f=>{(0,B.pC)(f.geometry)&&f.geometry.coords&&(r+=f.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:r/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(r){this._add(r),this._emitChanged()}addMany(r){for(const f of r)this._add(f);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(r){const f=this._featuresById.get(r);return f?(this._remove(f),this._emitChanged(),f):null}removeManyById(r){this._boundsStore.invalidateIndex();for(const f of r){const P=this._featuresById.get(f);P&&this._remove(P)}this._emitChanged()}forEachBounds(r,f,P){for(const v of r){const L=this._boundsStore.get(v.objectId);L&&f((0,T.JR)(P,L))}}getFeature(r){return this._featuresById.get(r)}has(r){return this._featuresById.has(r)}toArray(){return Array.from(this._featuresById.values())}forEach(r){this._featuresById.forEach(f=>r(f))}forEachInBounds(r,f){this._boundsStore.forEachInBounds(r,P=>{f(this._featuresById.get(P))})}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let r=!1;this._featuresById.forEach((f,P)=>{this._markedIds.has(P)||(r=!0,this._remove(f))}),this._markedIds.clear(),r&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(r){if(!r)return;const f=r.objectId;if(null==f)return void b.Z.getLogger("esri.layers.graphics.data.FeatureStore").error(new C.Z("featurestore:invalid-feature","feature id is missing",{feature:r}));const P=this._featuresById.get(f);let v;if(this._markedIds.add(f),P?(r.displayId=P.displayId,v=this._boundsStore.get(f),this._boundsStore.delete(f)):(0,B.pC)(this.onFeatureAdd)&&this.onFeatureAdd(r),(0,B.Wi)(r.geometry)||!r.geometry.coords||!r.geometry.coords.length)return this._boundsStore.set(f,null),void this._featuresById.set(f,r);v=(0,O.$)((0,B.pC)(v)?v:(0,E.Ue)(),r.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,B.pC)(v)&&this._boundsStore.set(f,v),this._featuresById.set(f,r)}_remove(r){return(0,B.pC)(this.onFeatureRemove)&&this.onFeatureRemove(r),this._markedIds.delete(r.objectId),this._boundsStore.delete(r.objectId),this._featuresById.delete(r.objectId),r}}},92794:(F,M,l)=>{l.d(M,{n:()=>T});var C=l(62208),j=l(77044),b=l(66385),B=l(88071);const T={getObjectId:E=>E.objectId,getAttributes:E=>E.attributes,getAttribute:(E,O)=>E.attributes[O],cloneWithGeometry:(E,O)=>new b.u_(O,E.attributes,null,E.objectId),getGeometry:E=>E.geometry,getCentroid:(E,O)=>((0,C.Wi)(E.centroid)&&(E.centroid=(0,j.Y)(new B.Z,E.geometry,O.hasZ,O.hasM)),E.centroid)}},7728:(F,M,l)=>{l.r(M),l.d(M,{default:()=>X});var C=l(15861),j=l(26584),b=l(62208),B=l(91179),T=l(37053),E=l(82054),O=l(1476),A=l(3579),D=l(82959),c=l(58175),p=l(56554),r=l(35775),f=l(60466),P=l(85),v=l(36630);const L=T.Zn,K={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:T.Zn},W={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};function R(S){return(0,B.wp)(S)?null!=S.m:!!S.hasM}class X{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}load(u){var _=this;return(0,C.Z)(function*(){const y=[],{features:n}=u,e=_._inferLayerProperties(n,u.fields),t=u.fields||[],s=null!=u.hasM?u.hasM:e.hasM,a=null!=u.hasZ?u.hasZ:e.hasZ,i=!u.spatialReference&&!e.spatialReference,o=i?L:u.spatialReference||e.spatialReference,d=i?K:null,h=u.geometryType||e.geometryType;let m=u.objectIdField||e.objectIdField,g=u.timeInfo;if(h&&(i&&y.push({name:"feature-layer:spatial-reference-not-found",message:"Spatial reference not provided or found in features. Defaults to WGS84"}),!h))throw new j.Z("feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if(!m)throw new j.Z("feature-layer:missing-property","objectIdField not set and couldn't be found in the provided fields");if(e.objectIdField&&m!==e.objectIdField&&(y.push({name:"feature-layer:duplicated-oid-field",message:`Provided objectIdField "${m}" doesn't match the field name "${e.objectIdField}", found in the provided fields`}),m=e.objectIdField),m&&!e.objectIdField){let I=null;t.some(Z=>Z.name===m&&(I=Z,!0))?(I.type="esriFieldTypeOID",I.editable=!1,I.nullable=!1):t.unshift({alias:m,name:m,type:"esriFieldTypeOID",editable:!1,nullable:!1})}for(const I of t){if(null==I.name&&(I.name=I.alias),null==I.alias&&(I.alias=I.name),!I.name)throw new j.Z("feature-layer:invalid-field-name","field name is missing",{field:I});if(I.name===m&&(I.type="esriFieldTypeOID"),!P.v.jsonValues.includes(I.type))throw new j.Z("feature-layer:invalid-field-type",`invalid type for field "${I.name}"`,{field:I})}const U={};for(const I of t)if("esriFieldTypeOID"!==I.type&&"esriFieldTypeGlobalID"!==I.type){const Z=(0,v.os)(I);void 0!==Z&&(U[I.name]=Z)}if(_._fieldsIndex=new f.Z(t),_._createDefaultAttributes=(0,p.Dm)(U,m),g){if(g.startTimeField){const I=_._fieldsIndex.get(g.startTimeField);I?(g.startTimeField=I.name,I.type="esriFieldTypeDate"):g.startTimeField=null}if(g.endTimeField){const I=_._fieldsIndex.get(g.endTimeField);I?(g.endTimeField=I.name,I.type="esriFieldTypeDate"):g.endTimeField=null}if(g.trackIdField){const I=_._fieldsIndex.get(g.trackIdField);I?g.trackIdField=I.name:(g.trackIdField=null,y.push({name:"feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:g}}))}g.startTimeField||g.endTimeField||(y.push({name:"feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing or invalid",details:{timeInfo:g}}),g=null)}const w={warnings:y,featureErrors:[],layerDefinition:z(Q({},W),{drawingInfo:(0,p.bU)(h),templates:(0,p.Hq)(U),extent:d,geometryType:h,objectIdField:m,fields:t,hasZ:!!a,hasM:!!s,timeInfo:g}),assignedObjectIds:{}};if(_._queryEngine=new c.q({fields:t,geometryType:h,hasM:s,hasZ:a,objectIdField:m,spatialReference:o,featureStore:new A.Z({geometryType:h,hasM:s,hasZ:a}),timeInfo:g,cacheSpatialQueries:!0}),!n||!n.length)return _._nextObjectId=O.X,w;const H=(0,O.S)(m,n);return _._nextObjectId=H+1,yield(0,D._W)(n,o),_._loadInitialFeatures(w,n)})()}applyEdits(u){var _=this;return(0,C.Z)(function*(){const{spatialReference:y,geometryType:n}=_._queryEngine;return yield Promise.all([(0,r.b)(y,n),(0,D._W)(u.adds,y),(0,D._W)(u.updates,y)]),_._applyEdits(u)})()}queryFeatures(u,_={}){return this._queryEngine.executeQuery(u,_.signal)}queryFeatureCount(u,_={}){return this._queryEngine.executeQueryForCount(u,_.signal)}queryObjectIds(u,_={}){return this._queryEngine.executeQueryForIds(u,_.signal)}queryExtent(u,_={}){return this._queryEngine.executeQueryForExtent(u,_.signal)}querySnapping(u,_={}){return this._queryEngine.executeQueryForSnapping(u,_.signal)}_inferLayerProperties(u,_){let y,n,e=null,t=null,s=null;for(const a of u){const i=a.geometry;if(!(0,b.Wi)(i)&&(e||(e=(0,B.Ji)(i)),t||(t=i.spatialReference),null==y&&(y=(0,B.wp)(S=i)?null!=S.z:!!S.hasZ),null==n&&(n=R(i)),e&&t&&null!=y&&null!=n))break}var S;if(_&&_.length){let a=null;_.some(i=>{const o="esriFieldTypeOID"===i.type,d=!i.type&&i.name&&"objectid"===i.name.toLowerCase();return a=i,o||d})&&(s=a.name)}return{geometryType:e,spatialReference:t,objectIdField:s,hasM:n,hasZ:y}}_loadInitialFeatures(u,_){const{geometryType:y,hasM:n,hasZ:e,objectIdField:t,spatialReference:s,featureStore:a}=this._queryEngine,i=[];for(const o of _){if(null!=o.uid&&(u.assignedObjectIds[o.uid]=-1),o.geometry&&y!==(0,B.Ji)(o.geometry)){u.featureErrors.push((0,r.av)("Incorrect geometry type."));continue}const d=this._createDefaultAttributes(),h=(0,r.O0)(this._fieldsIndex,d,o.attributes,!0,u.warnings);h?u.featureErrors.push(h):(this._assignObjectId(d,o.attributes,!0),o.attributes=d,null!=o.uid&&(u.assignedObjectIds[o.uid]=o.attributes[t]),(0,b.pC)(o.geometry)&&(o.geometry=(0,D.iV)(o.geometry,o.geometry.spatialReference,s)),i.push(o))}if(a.addMany((0,E.Yn)([],i,y,e,n,t)),u.layerDefinition.extent=this._queryEngine.fullExtent,u.layerDefinition.timeInfo){const{start:o,end:d}=this._queryEngine.timeExtent;u.layerDefinition.timeInfo.timeExtent=[o,d]}return u}_applyEdits(u){const{adds:_,updates:y,deletes:n}=u,e={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(_&&_.length&&this._applyAddEdits(e,_),y&&y.length&&this._applyUpdateEdits(e,y),n&&n.length){for(const t of n)e.deleteResults.push((0,r.d1)(t));this._queryEngine.featureStore.removeManyById(n)}return{fullExtent:this._queryEngine.fullExtent,featureEditResults:e}}_applyAddEdits(u,_){const{addResults:y}=u,{geometryType:n,hasM:e,hasZ:t,objectIdField:s,spatialReference:a,featureStore:i}=this._queryEngine,o=[];for(const d of _){if(d.geometry&&n!==(0,B.Ji)(d.geometry)){y.push((0,r.av)("Incorrect geometry type."));continue}const h=this._createDefaultAttributes(),x=(0,r.O0)(this._fieldsIndex,h,d.attributes);x?y.push(x):(this._assignObjectId(h,d.attributes),d.attributes=h,null!=d.uid&&(u.uidToObjectId[d.uid]=d.attributes[s]),(0,b.pC)(d.geometry)&&(d.geometry=(0,D.iV)((0,r.og)(d.geometry,a),d.geometry.spatialReference,a)),o.push(d),y.push((0,r.d1)(d.attributes[s])))}i.addMany((0,E.Yn)([],o,n,t,e,s))}_applyUpdateEdits({updateResults:u},_){const{geometryType:y,hasM:n,hasZ:e,objectIdField:t,spatialReference:s,featureStore:a}=this._queryEngine;for(const i of _){const{attributes:o,geometry:d}=i,h=o&&o[t];if(null==h){u.push((0,r.av)(`Identifier field ${t} missing`));continue}if(!a.has(h)){u.push((0,r.av)(`Feature with object id ${h} missing`));continue}const x=(0,E.EI)(a.getFeature(h),y,e,n);if((0,b.pC)(d)){if(y!==(0,B.Ji)(d)){u.push((0,r.av)("Incorrect geometry type."));continue}x.geometry=(0,D.iV)((0,r.og)(d,s),d.spatialReference,s)}if(o){const m=(0,r.O0)(this._fieldsIndex,x.attributes,o);if(m){u.push(m);continue}}a.add((0,E.XA)(x,y,e,n,t)),u.push((0,r.d1)(h))}}_assignObjectId(u,_,y=!1){const n=this._queryEngine.objectIdField;u[n]=y&&_&&isFinite(_[n])?_[n]:this._nextObjectId++}}},56554:(F,M,l)=>{l.d(M,{Dm:()=>A,Hq:()=>D,MS:()=>c,bU:()=>T});var C=l(8314),j=l(58817),b=l(87757),B=l(24837);function T(p){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===p||"esriGeometryMultipoint"===p?B.I4:"esriGeometryPolyline"===p?B.ET:B.lF}}}const E=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let O=1;function A(p,r){if((0,C.Z)("esri-csp-restrictions"))return()=>Q({[r]:null},p);try{let f=`this.${r} = null;`;for(const v in p)f+=`this${E.test(v)?`.${v}`:`["${v}"]`} = ${JSON.stringify(p[v])};`;const P=new Function(`\n      return class AttributesClass$${O++} {\n        constructor() {\n          ${f};\n        }\n      }\n    `)();return()=>new P}catch(f){return()=>Q({[r]:null},p)}}function D(p={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,j.d9)(p)}}]}function c(p,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:p},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0},query:b.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}}}]);